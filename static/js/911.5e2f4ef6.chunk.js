(self.webpackChunkweb=self.webpackChunkweb||[]).push([[911],{7911:(e,r,t)=>{t.r(r),t.d(r,{default:()=>N});var n=t(5458),o=t(4467),i=t(296),l=t(6665),s=t(3929),c=t(6283),a=t(3668),d=t(5991),u=t(467),p=t(3029),f=t(2901),h=t(1087),b=(0,f.A)((function e(){(0,p.A)(this,e)}),null,[{key:"getBaseUrl",value:function(){return"https://foilquiver.com"}},{key:"getAllProducts",value:function(){var e=(0,u.A)((function*(){try{if(this.isWeb){var e=this.getBaseUrl();try{var r=yield fetch(`${e}${this.DATA_PATH}`);if(r.ok)return yield r.json()}catch(c){}try{var t=[];for(var o of["armstrong","lift-foils","axis-foils","code-foils","kt-foils","uni-foil"])try{var i=yield fetch(`${e}/${this.CACHE_DIR}/${o}.json`);if(i.ok){var l=yield i.json();t.push.apply(t,(0,n.A)(l))}}catch(c){}if(t.length>0)return t}catch(c){}}else{var s=yield h.A.getItem("foils");if(s)return JSON.parse(s)}}catch(c){}return[]}));return function(){return e.apply(this,arguments)}}()}]);function y(e){var r=(0,l.useState)({field:"area",direction:"asc"}),t=(0,i.A)(r,2),o=t[0],s=t[1],c=(0,l.useMemo)((function(){return r=e,t=o.field,i=o.direction,(0,n.A)(r).sort((function(e,r){var n,o;"brand"===t||"series"===t||"model"===t||"type"===t?(n=e[t].toLowerCase(),o=r[t].toLowerCase()):"price"===t?(n=e.price||0,o=r.price||0):t in e.specs?(n=e.specs[t]||0,o=r.specs[t]||0):(n="",o="");var l="asc"===i?1:-1;return"string"===typeof n&&"string"===typeof o?n.localeCompare(o)*l:"number"===typeof n&&"number"===typeof o?(n-o)*l:0}));var r,t,i}),[e,o]);return{sortOption:o,setSortOption:s,sortedFoils:c}}b.isWeb="web"===d.A.OS,b.DATA_PATH="/data/foils.json",b.CACHE_DIR=".cache";var x=t(5708),g=t(3838),m=t(5713),A=t(9476),j=t(397);function w(e){var r=e.filterOptions,t=e.selectedBrands,n=e.selectedSeries,o=e.selectedTypes,a=e.onFilterChange,d=(0,l.useState)(!1),u=(0,i.A)(d,2),p=u[0],f=u[1],h=(0,l.useState)(new g.A.Value(0)),b=(0,i.A)(h,1)[0],y=(0,l.useState)(0),w=(0,i.A)(y,2),S=w[0],T=w[1],v=b.interpolate({inputRange:[0,1],outputRange:[0,S]});return(0,j.jsxs)(s.A,{style:C.wrapper,children:[(0,j.jsxs)(x.A,{onPress:function(){var e=p?0:1;g.A.spring(b,{toValue:e,useNativeDriver:!1,friction:10}).start(),f(!p)},style:C.header,children:[(0,j.jsxs)(s.A,{style:C.headerContent,children:[(0,j.jsx)(c.A,{style:C.headerTitle,children:"Filters"}),(0,j.jsxs)(s.A,{style:C.filterSummary,children:[t.length>0&&(0,j.jsxs)(c.A,{style:C.filterCount,children:["Brands: ",t.length]}),o.length>0&&(0,j.jsxs)(c.A,{style:C.filterCount,children:["Types: ",o.length]}),n.length>0&&(0,j.jsxs)(c.A,{style:C.filterCount,children:["Series: ",n.length]})]})]}),(0,j.jsx)(A.A,{name:p?"chevron-up":"chevron-down",size:24,color:m.T.text.secondary})]}),(0,j.jsx)(g.A.View,{style:[C.content,{height:v}],children:(0,j.jsxs)(s.A,{style:C.container,onLayout:function(e){var r=e.nativeEvent.layout.height;T(r)},children:[(0,j.jsxs)(s.A,{style:C.section,children:[(0,j.jsx)(c.A,{style:C.sectionTitle,children:"Brand"}),(0,j.jsx)(s.A,{style:C.chipContainer,children:r.brands.map((function(e){return(0,j.jsx)(x.A,{style:[C.chip,t.includes(e)&&C.chipSelected],onPress:function(){return a("brands",e)},children:(0,j.jsx)(c.A,{style:[C.chipText,t.includes(e)&&C.chipTextSelected],children:e})},e)}))})]}),(0,j.jsxs)(s.A,{style:C.section,children:[(0,j.jsx)(c.A,{style:C.sectionTitle,children:"Type"}),(0,j.jsx)(s.A,{style:C.chipContainer,children:r.types.map((function(e){return(0,j.jsx)(x.A,{style:[C.chip,o.includes(e)&&C.chipSelected],onPress:function(){return a("type",e)},children:(0,j.jsx)(c.A,{style:[C.chipText,o.includes(e)&&C.chipTextSelected],children:e})},e)}))})]}),(0,j.jsxs)(s.A,{style:C.section,children:[(0,j.jsx)(c.A,{style:C.sectionTitle,children:"Series"}),(0,j.jsx)(s.A,{style:C.chipContainer,children:r.series.map((function(e){return(0,j.jsx)(x.A,{style:[C.chip,n.includes(e)&&C.chipSelected],onPress:function(){return a("series",e)},children:(0,j.jsx)(c.A,{style:[C.chipText,n.includes(e)&&C.chipTextSelected],children:e})},e)}))})]})]})})]})}var C=a.A.create({wrapper:{backgroundColor:m.T.background.primary,marginBottom:16,borderRadius:8,borderWidth:1,borderColor:m.T.border,overflow:"hidden"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,backgroundColor:m.T.background.primary},headerContent:{flex:1,flexDirection:"row",alignItems:"center",gap:16},headerTitle:{fontSize:16,fontWeight:"600",color:m.T.text.primary},filterSummary:{flexDirection:"row",gap:12},filterCount:{fontSize:14,color:m.T.text.secondary},content:{overflow:"hidden"},container:{padding:16,paddingTop:0},section:{marginBottom:16},sectionTitle:{fontSize:14,fontWeight:"600",color:m.T.text.primary,marginBottom:8},chipContainer:{flexDirection:"row",flexWrap:"wrap",gap:8},chip:{backgroundColor:m.T.background.secondary,borderRadius:16,paddingHorizontal:12,paddingVertical:6},chipSelected:{backgroundColor:m.T.primary},chipText:{color:m.T.text.secondary,fontSize:14},chipTextSelected:{color:m.T.background.primary}}),S=t(4307),T=t(558);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var k=768,P=930;function D(e){var r=e.foils,t=e.onSort,n=e.onFoilSelect,o=e.isSelected,i=e.sortOption,l=(0,T.A)().width<k,a=function(e){var r=i.field===e;return(0,j.jsxs)(s.A,{style:B.sortIconContainer,children:[(0,j.jsx)(c.A,{style:[B.sortIcon,B.sortIconUp,r&&i.ascending&&B.sortIconUpActive],children:"\u25b2"}),(0,j.jsx)(c.A,{style:[B.sortIcon,B.sortIconDown,r&&!i.ascending&&B.sortIconDownActive],children:"\u25bc"})]})},u=function(e){return B.headerText};return(0,j.jsx)(s.A,{style:[B.container,l&&B.containerMobile],children:(0,j.jsx)(s.A,{style:[B.tableWrapper,l&&B.tableWrapperMobile],children:(0,j.jsx)(S.A,{horizontal:!0,showsHorizontalScrollIndicator:!0,contentContainerStyle:B.scrollViewContent,style:[B.horizontalScrollView,l&&B.scrollViewMobile],scrollEventThrottle:16,decelerationRate:"normal",snapToAlignment:"start",directionalLockEnabled:!0,alwaysBounceHorizontal:!0,overScrollMode:"auto",children:(0,j.jsxs)(s.A,{style:B.tableContent,children:[(0,j.jsx)(s.A,{style:B.tableHeader,children:(0,j.jsxs)(s.A,{style:B.headerRow,children:[(0,j.jsxs)(x.A,{style:B.headerCell,onPress:function(){return t("brand")},children:[(0,j.jsx)(c.A,{style:u(),children:"Brand"}),a("brand")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.modelCell],onPress:function(){return t("model")},children:[(0,j.jsx)(c.A,{style:u(),children:"Model"}),a("model")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.typeCell],onPress:function(){return t("type")},children:[(0,j.jsx)(c.A,{style:u(),children:"Type"}),a("type")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.seriesCell],onPress:function(){return t("series")},children:[(0,j.jsx)(c.A,{style:u(),children:"Series"}),a("series")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.numberHeaderCell],onPress:function(){return t("area")},children:[(0,j.jsx)(c.A,{style:[u(),B.numberHeaderText],children:"Area"}),a("area")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.numberHeaderCell],onPress:function(){return t("wingspan")},children:[(0,j.jsx)(c.A,{style:[u(),B.numberHeaderText],children:"Span"}),a("wingspan")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.numberHeaderCell],onPress:function(){return t("aspectRatio")},children:[(0,j.jsx)(c.A,{style:[u(),B.numberHeaderText],children:"AR"}),a("aspectRatio")]}),(0,j.jsxs)(x.A,{style:[B.headerCell,B.numberHeaderCell],onPress:function(){return t("price")},children:[(0,j.jsx)(c.A,{style:[u(),B.numberHeaderText],children:"Price"}),a("price")]}),(0,j.jsx)(s.A,{style:[B.headerCell,B.linkHeaderCell],children:(0,j.jsx)(c.A,{style:[B.headerText,B.linkHeaderText],children:"Link"})})]})}),(0,j.jsx)(s.A,{style:B.scrollViewContainer,children:(0,j.jsx)(S.A,{style:B.scrollView,children:r.map((function(e,r){var t;return(0,j.jsxs)(x.A,{onPress:function(){return n(e)},style:function(t){var n=t.pressed;return[B.row,r%2===0&&B.rowEven,o(e)&&B.rowSelected,"web"===d.A.OS&&n&&B.rowHovered]},children:[(0,j.jsx)(c.A,{style:B.cell,children:e.brand}),(0,j.jsx)(c.A,{style:[B.cell,B.modelCell],children:e.model}),(0,j.jsx)(c.A,{style:[B.cell,B.typeCell],children:e.type}),(0,j.jsx)(c.A,{style:[B.cell,B.seriesCell],children:e.series}),(0,j.jsx)(c.A,{style:[B.cell,B.numberCell],children:e.specs.area}),(0,j.jsx)(c.A,{style:[B.cell,B.numberCell],children:e.specs.wingspan}),(0,j.jsx)(c.A,{style:[B.cell,B.numberCell],children:null==(t=e.specs.aspectRatio)?void 0:t.toFixed(2)}),(0,j.jsx)(c.A,{style:[B.cell,B.numberCell],children:e.price?`$${e.price}`:"-"}),(0,j.jsx)(s.A,{style:[B.cell,B.linkCell],children:e.sourceUrl&&(0,j.jsx)(x.A,{onPress:function(r){r.stopPropagation(),window.open(e.sourceUrl,"_blank")},style:function(e){var r=e.pressed;return[B.linkButton,r&&B.linkButtonPressed]},children:(0,j.jsx)(c.A,{style:B.linkText,children:"View"})})})]},`${e.brand}-${e.model}`)}))})})]})})})})}var B=a.A.create({container:{flex:1},containerMobile:{padding:4},tableWrapper:{width:P,backgroundColor:m.T.background.primary,borderRadius:"web"===d.A.OS?8:4,overflow:"hidden",borderWidth:1,borderColor:m.T.border,flex:1},tableWrapperMobile:{borderRadius:4},scrollViewMobile:O({flex:1},"web"===d.A.OS?{WebkitOverflowScrolling:"touch"}:{}),tableContent:{backgroundColor:m.T.background.primary,width:P,flex:1,flexDirection:"column"},scrollViewContainer:{flex:1},scrollView:{flex:1},tableHeader:{backgroundColor:m.T.background.secondary,borderBottomWidth:1,borderBottomColor:m.T.primary,width:P},headerRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:m.T.secondary},headerCell:O({flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:12,borderRightWidth:1,borderRightColor:m.T.border,width:100},"web"===d.A.OS&&{cursor:"pointer"}),headerText:{color:m.T.text.secondary,fontWeight:"600",fontSize:16},row:O({flexDirection:"row",borderBottomWidth:1,borderBottomColor:m.T.border,width:P},"web"===d.A.OS&&{cursor:"pointer"}),rowEven:{backgroundColor:m.T.background.secondary},rowSelected:{backgroundColor:`${m.T.primary}15`},rowHovered:{backgroundColor:`${m.T.primary}10`},cell:{color:m.T.text.primary,fontSize:14,padding:12,borderRightWidth:1,borderRightColor:m.T.border,width:100},modelCell:{width:150},typeCell:{width:80},seriesCell:{width:120},numberCell:{width:100,textAlign:"right"},numberHeaderCell:{width:100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:4},numberHeaderText:{textAlign:"left",flex:1},linkCell:{width:80,alignItems:"center",justifyContent:"center",borderRightWidth:0,borderTopRightRadius:"web"===d.A.OS?0:8,borderBottomRightRadius:"web"===d.A.OS?0:8},linkHeaderCell:{width:80,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRightWidth:0,borderTopRightRadius:"web"===d.A.OS?0:8},linkHeaderText:{textAlign:"center"},linkButton:O({backgroundColor:m.T.primary,paddingHorizontal:8,paddingVertical:4,borderRadius:4,minWidth:44,alignItems:"center"},"web"===d.A.OS&&{cursor:"pointer"}),linkButtonPressed:{opacity:.8},linkText:{color:m.T.background.primary,fontSize:12,fontWeight:"600"},sortIconContainer:{flexDirection:"column",alignItems:"center",height:28,justifyContent:"center",width:16,gap:2},sortIcon:{color:m.T.text.muted,fontSize:12,width:12,height:10,lineHeight:10,textAlign:"center"},sortIconUp:{marginBottom:0},sortIconDown:{marginTop:0},sortIconUpActive:{color:m.T.primary,fontSize:13},sortIconDownActive:{color:m.T.primary,fontSize:13},scrollViewContent:{flexGrow:0},horizontalScrollView:{flex:1}}),R=12;function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var I=d.A.select({web:function(e){var r=e.children;return(0,j.jsx)("div",{style:{position:"fixed",bottom:80,left:0,right:0,zIndex:2e3,pointerEvents:"none"},children:(0,j.jsx)("div",{style:{pointerEvents:"auto",display:"flex",justifyContent:"flex-end",paddingRight:16,paddingBottom:R},children:r})})},default:function(e){var r=e.children;return(0,j.jsx)(j.Fragment,{children:r})}});const W=function(e){var r=e.selectedFoils,t=e.onCompareSelected,n=e.onExitCompare,o=e.onClearSelection,i=e.isComparisonView;if(0===r.length&&!i)return null;var l=i?(0,j.jsx)(s.A,{style:z.comparisonBar,children:(0,j.jsx)(x.A,{style:[z.button,z.cancelButton],onPress:n,children:(0,j.jsx)(c.A,{style:z.buttonText,children:"Back"})})}):(0,j.jsxs)(s.A,{style:z.comparisonBar,children:[(0,j.jsxs)(c.A,{style:z.selectionText,children:["Selected: ",r.length]}),(0,j.jsxs)(s.A,{style:z.buttonGroup,children:[(0,j.jsx)(x.A,{style:[z.button,z.clearButton],onPress:o,children:(0,j.jsx)(c.A,{style:[z.buttonText,z.clearButtonText],children:"Clear"})}),(0,j.jsx)(x.A,{style:[z.button,r.length<2&&z.buttonDisabled],onPress:t,disabled:r.length<2,children:(0,j.jsx)(c.A,{style:z.buttonText,children:"Compare"})})]})]});return"web"===d.A.OS?(0,j.jsx)(I,{children:l}):(0,j.jsx)(s.A,{style:z.container,children:l})};var z=a.A.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,backgroundColor:m.T.background.secondary,borderTopWidth:1,borderTopColor:m.T.border},comparisonBar:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:R,backgroundColor:"transparent"},floatingButton:H({alignSelf:"flex-end",backgroundColor:"#007AFF",paddingHorizontal:16,paddingVertical:R,borderRadius:8},d.A.select({web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"},default:{elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4}})),buttonGroup:{flexDirection:"row",gap:R},button:H({backgroundColor:m.T.primary,paddingHorizontal:16,paddingVertical:R,borderRadius:8},d.A.select({web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"},default:{elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4}})),buttonDisabled:{backgroundColor:m.T.text.muted,opacity:.5},clearButton:{backgroundColor:m.T.background.primary,borderWidth:1,borderColor:m.T.secondary},cancelButton:{backgroundColor:m.T.secondary},buttonText:{color:m.T.background.primary,fontWeight:"600",fontSize:14},selectionText:{fontSize:14,color:m.T.text.secondary,marginRight:R},selectedCount:{color:m.T.text.secondary,fontSize:16},buttonContainer:{flexDirection:"row",gap:8},compareButton:{backgroundColor:m.T.primary},compareButtonText:{color:m.T.background.primary},clearButtonText:{color:m.T.secondary}});const V=function(e){var r=e.foils,t=(e.onClose,e.onCompare,y(r)),n=t.sortOption,o=t.setSortOption,i=t.sortedFoils;return(0,j.jsx)(s.A,{style:E.container,children:(0,j.jsx)(D,{foils:i,onSort:function(e){o((function(r){return{field:e,direction:r.field===e&&"asc"===r.direction?"desc":"asc"}}))},onFoilSelect:function(){},isSelected:function(){return!1},sortOption:{field:n.field,ascending:"asc"===n.direction}})})};var E=a.A.create({container:{flex:1}}),M=t(2167);function $(){var e=(0,M.cq)(),r=(0,T.A)().width<768;return(0,j.jsx)(s.A,{style:[U.container,r&&U.containerMobile],children:(0,j.jsx)(s.A,{style:[U.content,r&&U.contentMobile],children:(0,j.jsxs)(s.A,{style:[U.linkGroup,r&&U.linkGroupMobile],children:[(0,j.jsx)(x.A,{onPress:function(){return e.navigate("Terms")},children:(0,j.jsx)(c.A,{style:U.link,children:"Terms of Service"})}),(0,j.jsx)(c.A,{style:U.separator,children:"\u2022"}),(0,j.jsx)(x.A,{onPress:function(){return e.navigate("Privacy")},children:(0,j.jsx)(c.A,{style:U.link,children:"Privacy Policy"})}),(0,j.jsx)(c.A,{style:U.separator,children:"\u2022"}),(0,j.jsx)(x.A,{onPress:function(){return e.navigate("Contact")},children:(0,j.jsx)(c.A,{style:U.link,children:"Contact Us"})})]})})})}var U=a.A.create({container:{backgroundColor:m.T.background.primary,borderTopWidth:1,borderTopColor:m.T.border,padding:16},containerMobile:{padding:12},content:{maxWidth:1200,marginHorizontal:"auto",flexDirection:"row",justifyContent:"center",alignItems:"center"},contentMobile:{flexDirection:"column",gap:8},linkGroup:{flexDirection:"row",alignItems:"center",gap:16},linkGroupMobile:{gap:8},link:{color:m.T.text.secondary,fontSize:14},separator:{color:m.T.text.muted,fontSize:14}}),G=t(7821),L=t(5229),_=function(e){var r=e.title,t=e.description,n=e.canonicalUrl,o=e.imageUrl,i=`${r} | FoilQuiver`;return(0,j.jsxs)(L.mg,{children:[(0,j.jsx)("title",{children:i}),(0,j.jsx)("meta",{name:"description",content:t}),n&&(0,j.jsx)("link",{rel:"canonical",href:n}),(0,j.jsx)("meta",{property:"og:title",content:i}),(0,j.jsx)("meta",{property:"og:description",content:t}),o&&(0,j.jsx)("meta",{property:"og:image",content:o}),(0,j.jsx)("meta",{name:"twitter:title",content:i}),(0,j.jsx)("meta",{name:"twitter:description",content:t}),o&&(0,j.jsx)("meta",{name:"twitter:image",content:o})]})};function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function N(e){var r,t=e.route,a=(e.navigation,function(){var e=(0,l.useState)([]),r=(0,i.A)(e,2),t=r[0],n=r[1],o=(0,l.useState)(!0),s=(0,i.A)(o,2),c=s[0],a=s[1],d=(0,l.useState)(null),p=(0,i.A)(d,2),f=p[0],h=p[1],y=function(){var e=(0,u.A)((function*(){try{a(!0),h(null);var e=yield b.getAllProducts();n(e)}catch(r){h(r instanceof Error?r.message:"Failed to load foils")}finally{a(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){y()}),[]),{foils:t,loading:c,error:f,refreshFoils:function(){y()}}}()),d=a.foils,p=a.loading,f=a.error,h=(a.refreshFoils,(0,l.useState)(!1)),x=(0,i.A)(h,2),g=x[0],m=x[1],A=function(e){var r=(0,l.useState)({brands:[],series:[],type:null}),t=(0,i.A)(r,2),n=t[0],o=t[1],s=(0,l.useMemo)((function(){var r=Array.from(new Set(e.map((function(e){return e.brand})))),t=(Array.from(new Set(e.map((function(e){return e.series})))),r.reduce((function(r,t){return r[t]=Array.from(new Set(e.filter((function(e){return e.brand===t})).map((function(e){return e.series})))),r}),{})),o=n.type?e.filter((function(e){return e.type===n.type})):e,i=Array.from(new Set(o.map((function(e){return e.series}))));return{brands:r,series:n.brands.length>0?Array.from(new Set(o.filter((function(e){return n.brands.includes(e.brand)})).map((function(e){return e.series})))):i,types:["front","tail"],brandSeries:t}}),[e,n.brands,n.type]),c=(0,l.useMemo)((function(){return e.filter((function(e){var r=0===n.brands.length||n.brands.includes(e.brand),t=0===n.series.length||n.series.includes(e.series),o=!n.type||e.type===n.type;return r&&t&&o}))}),[e,n]);return{filters:n,setFilters:o,filteredFoils:c,filterOptions:s}}(d),C=A.filters,S=A.setFilters,T=A.filteredFoils,v=A.filterOptions,O=function(e,r){return{searchedFoils:(0,l.useMemo)((function(){if(!r.trim())return e;var t=r.toLowerCase().trim();return e.filter((function(e){return[e.brand,e.model,e.series,e.specs.area.toString(),e.specs.wingspan.toString(),e.specs.aspectRatio.toString()].some((function(e){return e.toLowerCase().includes(t)}))}))}),[e,r])}}(T,(null==(r=t.params)?void 0:r.searchQuery)||""),k=y(O.searchedFoils),P=k.sortOption,B=k.setSortOption,R=k.sortedFoils,F=function(){var e=(0,l.useState)([]),r=(0,i.A)(e,2),t=r[0],o=r[1],s=(0,l.useCallback)((function(e){o((function(r){return r.some((function(r){return r.model===e.model&&r.brand===e.brand}))?r.filter((function(r){return!(r.model===e.model&&r.brand===e.brand)})):[].concat((0,n.A)(r),[e])}))}),[]),c=(0,l.useCallback)((function(e){return t.some((function(r){return r.model===e.model&&r.brand===e.brand}))}),[t]),a=(0,l.useCallback)((function(){o([])}),[]);return{selectedFoils:t,toggleFoilSelection:s,isSelected:c,clearSelection:a}}(),H=F.selectedFoils,I=F.toggleFoilSelection,z=F.isSelected,E=F.clearSelection,M=function(){m(!1)};return p?(0,j.jsx)(G.I,{}):f?(0,j.jsx)(c.A,{style:J.error,children:f}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_,{title:"FoilQuiver - Browse and compare hydrofoils",description:`Compare ${d.length} hydrofoils across ${v.brands.length} brands. Filter by type, brand, and specifications to find your perfect foil.`,canonicalUrl:"https://foilquiver.com/browse"}),(0,j.jsxs)(s.A,{style:[J.container,J.containerWeb],children:[(0,j.jsx)(w,{filterOptions:{brands:v.brands,series:v.series,types:["front","tail"]},selectedBrands:C.brands,selectedSeries:C.series,selectedTypes:C.type?[C.type]:[],onFilterChange:function(e,r){S((function(t){if("type"===e){var i=r;return Q(Q({},t),{},{type:t.type===i?null:i})}var l=t[e];return Q(Q({},t),{},(0,o.A)({},e,l.includes(r)?l.filter((function(e){return e!==r})):[].concat((0,n.A)(l),[r])))}))}}),(0,j.jsx)(s.A,{style:[J.tableContainer,J.tableContainerWeb],children:g?(0,j.jsx)(V,{foils:H,onClose:M,onCompare:function(){}}):(0,j.jsx)(D,{foils:R,onSort:function(e){B((function(r){return{field:e,direction:r.field===e&&"asc"===r.direction?"desc":"asc"}}))},onFoilSelect:I,isSelected:z,sortOption:{field:P.field,ascending:"asc"===P.direction}})}),(0,j.jsx)(W,{selectedFoils:H,onCompareSelected:function(){m(!0)},onExitCompare:M,onClearSelection:E,isComparisonView:g}),(0,j.jsx)($,{})]})]})}var J=a.A.create({container:{flex:1,backgroundColor:m.T.background.primary},containerWeb:"web"===d.A.OS?{minHeight:"100%",display:"flex",flexDirection:"column"}:{},tableContainer:{flex:1,padding:"web"===d.A.OS?16:8,backgroundColor:m.T.background.primary,minHeight:0},tableContainerWeb:"web"===d.A.OS?{overflow:"scroll"}:{},error:{color:"red",padding:16,textAlign:"center"}})}}]);
//# sourceMappingURL=911.5e2f4ef6.chunk.js.map