(self.webpackChunkweb=self.webpackChunkweb||[]).push([[214],{1214:(e,t,r)=>{r.r(t),r.d(t,{default:()=>z});var n=r(6665),o=r(3929),i=r(6283),s=r(3668),l=r(209),a=r(1009),c=r(296),d=r(5458);function u(e){var t=(0,n.useState)({field:"area",direction:"asc"}),r=(0,c.A)(t,2),o=r[0],i=r[1],s=(0,n.useMemo)((function(){return t=e,r=o.field,n=o.direction,(0,d.A)(t).sort((function(e,t){var o,i;"brand"===r||"series"===r||"model"===r||"type"===r?(o=e[r].toLowerCase(),i=t[r].toLowerCase()):"price"===r?(o=e.price||0,i=t.price||0):r in e.specs?(o=e.specs[r]||0,i=t.specs[r]||0):(o="",i="");var s="asc"===n?1:-1;return"string"===typeof o&&"string"===typeof i?o.localeCompare(i)*s:"number"===typeof o&&"number"===typeof i?(o-i)*s:0}));var t,r,n}),[e,o]);return{sortOption:o,setSortOption:i,sortedFoils:s}}var p=r(5708),h=r(4307),g=r(5991),b=r(6725);function x(){var e=(0,n.useState)((function(){return b.A.get("window")})),t=e[0],r=e[1];return(0,n.useEffect)((function(){function e(e){var t=e.window;null!=t&&r(t)}return b.A.addEventListener("change",e),r(b.A.get("window")),function(){b.A.removeEventListener("change",e)}}),[]),t}var f=r(5713),m=r(397);const y={brand:150,series:120,model:150,area:80,wingspan:80,aspectRatio:80,type:80,price:105,link:80};function w({foils:e,onSort:t,onFoilSelect:r,isSelected:s,sortOption:l,columns:a,filters:c}){const{width:d}=x(),u=n.useMemo((()=>a.reduce(((e,t)=>t.isVisible?e+(y[t.id]||100):e),0)),[a]),b=e=>{const t=l.field===e;return(0,m.jsxs)(o.A,{style:C.sortIconContainer,children:[(0,m.jsx)(i.A,{style:[C.sortIcon,C.sortIconUp,t&&l.ascending&&C.sortIconUpActive],children:"\u25b2"}),(0,m.jsx)(i.A,{style:[C.sortIcon,C.sortIconDown,t&&!l.ascending&&C.sortIconDownActive],children:"\u25bc"})]})},f=e=>{const t="brand"===e&&c.brands.length>0||"series"===e&&c.series.length>0||"type"===e&&c.type.length>0;return[C.headerText,t&&C.headerTextFiltered]},w=e=>y[e]||100,j=e=>{if(!e.isVisible)return null;const r={style:[C.headerCell,{width:w(e.id)},"brand"===e.id&&c.brands.length>0&&C.headerCellFiltered,"series"===e.id&&c.series.length>0&&C.headerCellFiltered,"type"===e.id&&c.type.length>0&&C.headerCellFiltered]};return"link"===e.id?(0,m.jsx)(o.A,Object.assign({},r,{children:(0,m.jsx)(i.A,{style:[C.headerText,C.linkHeaderText],children:e.label})})):(0,m.jsxs)(p.A,Object.assign({},r,{onPress:()=>t(e.id),children:[(0,m.jsx)(i.A,{style:[f(e.id),["area","wingspan","aspectRatio","price"].includes(e.id)&&C.numberHeaderText],children:e.label}),b(e.id)]}))},A=(e,t)=>{if(!t.isVisible)return null;const r=[C.cell,{width:w(t.id)}];switch(t.id){case"brand":return(0,m.jsx)(i.A,{style:r,children:e.brand});case"series":return(0,m.jsx)(i.A,{style:r,children:e.series});case"model":return(0,m.jsx)(i.A,{style:r,children:e.model});case"area":return(0,m.jsx)(i.A,{style:r,children:0===e.specs.area?"-":e.specs.area});case"wingspan":return(0,m.jsx)(i.A,{style:r,children:0===e.specs.wingspan?"-":e.specs.wingspan});case"aspectRatio":return(0,m.jsx)(i.A,{style:r,children:e.specs.aspectRatio&&0!==e.specs.aspectRatio?e.specs.aspectRatio.toFixed(2):"-"});case"type":return(0,m.jsx)(i.A,{style:r,children:e.type});case"price":return(0,m.jsx)(i.A,{style:r,children:e.price?`$${e.price}`:"-"});case"link":return(0,m.jsx)(o.A,{style:r,children:e.sourceUrl&&(0,m.jsx)(p.A,{onPress:t=>{t.stopPropagation(),window.open(e.sourceUrl,"_blank")},style:({pressed:e})=>[C.linkButton,e&&C.linkButtonPressed],children:(0,m.jsx)(i.A,{style:C.linkText,children:"View"})})});default:return null}};return(0,m.jsx)(o.A,{style:C.container,children:(0,m.jsx)(h.A,{horizontal:!0,showsHorizontalScrollIndicator:!0,contentContainerStyle:[C.scrollViewContent,{minWidth:Math.min(u,d)}],style:C.horizontalScrollView,children:(0,m.jsxs)(o.A,{style:[C.tableContent,{width:u}],children:[(0,m.jsx)(o.A,{style:[C.tableHeader,{width:u}],children:(0,m.jsx)(o.A,{style:C.headerRow,children:a.map((e=>(0,m.jsx)(n.Fragment,{children:j(e)},e.id)))})}),(0,m.jsx)(o.A,{style:C.scrollViewContainer,children:(0,m.jsx)(h.A,{style:C.scrollView,children:e.map(((e,t)=>(0,m.jsx)(p.A,{onPress:()=>r(e),style:({pressed:r})=>[C.row,{width:u},t%2===0&&C.rowEven,s(e)&&C.rowSelected,"web"===g.A.OS&&r&&C.rowHovered],children:a.map((t=>(0,m.jsx)(n.Fragment,{children:A(e,t)},t.id)))},`${e.brand}-${e.model}`)))})})]})})})}const C=s.A.create({container:{flex:1,width:"100%",backgroundColor:f.T.background.primary},horizontalScrollView:{flex:1},scrollViewContent:{flexGrow:0},tableContent:{flex:1,backgroundColor:f.T.background.primary},tableHeader:{backgroundColor:f.T.background.secondary,borderBottomWidth:1,borderBottomColor:f.T.primary},headerRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:f.T.secondary},headerCell:Object.assign({flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:12,borderRightWidth:1,borderRightColor:f.T.border},"web"===g.A.OS&&{cursor:"pointer"}),headerText:{color:f.T.text.secondary,fontWeight:"600",fontSize:16},headerTextFiltered:{color:f.T.primary},row:Object.assign({flexDirection:"row",borderBottomWidth:1,borderBottomColor:f.T.border},"web"===g.A.OS&&{cursor:"pointer"}),rowEven:{backgroundColor:f.T.background.secondary},rowSelected:{backgroundColor:`${f.T.primary}15`},rowHovered:{backgroundColor:`${f.T.primary}10`},cell:{color:f.T.text.primary,fontSize:14,padding:12,borderRightWidth:1,borderRightColor:f.T.border},modelCell:{width:150},typeCell:{width:80},seriesCell:{width:120},numberCell:{width:80,textAlign:"right"},priceCell:{width:105,textAlign:"right"},numberHeaderCell:{width:80,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:4},priceHeaderCell:{width:105,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:4},numberHeaderText:{textAlign:"left",flex:1},linkCell:{width:80,alignItems:"center",justifyContent:"center",borderRightWidth:0,borderTopRightRadius:"web"===g.A.OS?0:8,borderBottomRightRadius:"web"===g.A.OS?0:8},linkHeaderCell:{width:80,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRightWidth:0,borderTopRightRadius:"web"===g.A.OS?0:8},linkHeaderText:{textAlign:"center"},linkButton:Object.assign({backgroundColor:f.T.primary,paddingHorizontal:8,paddingVertical:4,borderRadius:4,minWidth:44,alignItems:"center"},"web"===g.A.OS&&{cursor:"pointer"}),linkButtonPressed:{opacity:.8},linkText:{color:f.T.background.primary,fontSize:12,fontWeight:"600"},sortIconContainer:{flexDirection:"column",alignItems:"center",height:28,justifyContent:"center",width:16,gap:2},sortIcon:{color:f.T.text.muted,fontSize:12,width:12,height:10,lineHeight:10,textAlign:"center"},sortIconUp:{marginBottom:0},sortIconDown:{marginTop:0},sortIconUpActive:{color:f.T.primary,fontSize:13},sortIconDownActive:{color:f.T.primary,fontSize:13},scrollViewContainer:{flex:1},scrollView:{flex:1},headerCellFiltered:{borderBottomWidth:2,borderBottomColor:f.T.primary}}),j=g.A.select({web:({children:e})=>(0,m.jsx)("div",{style:{position:"fixed",bottom:64,left:0,right:0,zIndex:2e3,pointerEvents:"none"},children:(0,m.jsx)("div",{style:{pointerEvents:"auto",display:"flex",justifyContent:"flex-end",paddingRight:16,paddingBottom:0},children:e})}),default:({children:e})=>(0,m.jsx)(m.Fragment,{children:e})}),A=({selectedFoils:e,onCompareSelected:t,onExitCompare:r,onClearSelection:n,isComparisonView:s})=>{if(0===e.length&&!s)return null;const l=s?(0,m.jsx)(o.A,{style:T.comparisonBar,children:(0,m.jsx)(p.A,{style:[T.button,T.cancelButton],onPress:r,children:(0,m.jsx)(i.A,{style:T.buttonText,children:"Back"})})}):(0,m.jsx)(o.A,{style:T.comparisonBar,children:(0,m.jsxs)(o.A,{style:T.buttonGroup,children:[(0,m.jsx)(p.A,{style:[T.button,T.clearButton],onPress:n,children:(0,m.jsx)(i.A,{style:[T.buttonText,T.clearButtonText],children:"Clear"})}),(0,m.jsx)(p.A,{style:[T.button,e.length<2&&T.buttonDisabled],onPress:t,disabled:e.length<2,children:(0,m.jsx)(i.A,{style:T.buttonText,children:"Compare"})})]})});return"web"===g.A.OS?(0,m.jsx)(j,{children:l}):(0,m.jsx)(o.A,{style:T.container,children:l})},T=s.A.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,paddingBottom:8,backgroundColor:f.T.background.secondary,borderTopWidth:1,borderTopColor:f.T.border},comparisonBar:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:12,backgroundColor:"transparent"},floatingButton:Object.assign({alignSelf:"flex-end",backgroundColor:"#007AFF",paddingHorizontal:16,paddingVertical:12,borderRadius:8},g.A.select({web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"},default:{elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4}})),buttonGroup:{flexDirection:"row",gap:12},button:Object.assign({backgroundColor:f.T.primary,paddingHorizontal:16,paddingVertical:12,borderRadius:8},g.A.select({web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"},default:{elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4}})),buttonDisabled:{backgroundColor:f.T.text.muted,opacity:.5},clearButton:{backgroundColor:f.T.background.primary,borderWidth:1,borderColor:f.T.secondary},cancelButton:{backgroundColor:f.T.secondary},buttonText:{color:f.T.background.primary,fontWeight:"600",fontSize:14},selectionText:{fontSize:14,color:f.T.text.secondary,marginRight:12},selectedCount:{color:f.T.text.secondary,fontSize:16},buttonContainer:{flexDirection:"row",gap:8},compareButton:{backgroundColor:f.T.primary},compareButtonText:{color:f.T.background.primary},clearButtonText:{color:f.T.secondary}}),S=({foils:e,onClose:t,onCompare:r,columns:n})=>{const{sortOption:i,setSortOption:s,sortedFoils:l}=u(e),a={brands:Array.from(new Set(e.map((e=>e.brand)))).sort(),series:Array.from(new Set(e.map((e=>e.series)))).sort(),types:["front","tail"]};return(0,m.jsx)(o.A,{style:k.container,children:(0,m.jsx)(w,{foils:l,onSort:e=>{s((t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"})))},onFoilSelect:()=>{},isSelected:()=>!1,sortOption:{field:i.field,ascending:"asc"===i.direction},filterOptions:a,selectedBrands:[],selectedSeries:[],selectedTypes:[],onFilterChange:()=>{},columns:n})})},k=s.A.create({container:{flex:1}});var v=r(2167);function F(){var e=(0,v.cq)(),t=x().width<768;return(0,m.jsx)(o.A,{style:[B.container,t&&B.containerMobile],children:(0,m.jsx)(o.A,{style:[B.content,t&&B.contentMobile],children:(0,m.jsxs)(o.A,{style:[B.linkGroup,t&&B.linkGroupMobile],children:[(0,m.jsx)(p.A,{onPress:function(){return e.navigate("Terms")},children:(0,m.jsx)(i.A,{style:B.link,children:"Terms of Service"})}),(0,m.jsx)(i.A,{style:B.separator,children:"\u2022"}),(0,m.jsx)(p.A,{onPress:function(){return e.navigate("Privacy")},children:(0,m.jsx)(i.A,{style:B.link,children:"Privacy Policy"})}),(0,m.jsx)(i.A,{style:B.separator,children:"\u2022"}),(0,m.jsx)(p.A,{onPress:function(){return e.navigate("Contact")},children:(0,m.jsx)(i.A,{style:B.link,children:"Contact Us"})})]})})})}var B=s.A.create({container:{backgroundColor:f.T.background.primary,borderTopWidth:1,borderTopColor:f.T.border,padding:16},containerMobile:{padding:12},content:{maxWidth:1200,marginHorizontal:"auto",flexDirection:"row",justifyContent:"center",alignItems:"center"},contentMobile:{flexDirection:"column",gap:8},linkGroup:{flexDirection:"row",alignItems:"center",gap:16},linkGroupMobile:{gap:8},link:{color:f.T.text.secondary,fontSize:14},separator:{color:f.T.text.muted,fontSize:14}}),O=r(7821),I=r(5229),R=function(e){var t=e.title,r=e.description,n=e.canonicalUrl,o=e.imageUrl,i=`${t} | FoilQuiver`;return(0,m.jsxs)(I.mg,{children:[(0,m.jsx)("title",{children:i}),(0,m.jsx)("meta",{name:"description",content:r}),n&&(0,m.jsx)("link",{rel:"canonical",href:n}),(0,m.jsx)("meta",{property:"og:title",content:i}),(0,m.jsx)("meta",{property:"og:description",content:r}),o&&(0,m.jsx)("meta",{property:"og:image",content:o}),(0,m.jsx)("meta",{name:"twitter:title",content:i}),(0,m.jsx)("meta",{name:"twitter:description",content:r}),o&&(0,m.jsx)("meta",{name:"twitter:image",content:o})]})};function z({route:e,navigation:t,filters:r,onFilterChange:s,columns:p}){const{foils:h,loading:g,error:b,refreshFoils:x}=(0,l.J)(),[f,y]=(0,n.useState)(!1),{filteredFoils:C,filterOptions:j}=(0,a.c)(h,r),{searchedFoils:T}=function(e,t){return{searchedFoils:(0,n.useMemo)((function(){if(!t.trim())return e;var r=t.toLowerCase().trim();return e.filter((function(e){return[e.brand,e.model,e.series,e.specs.area.toString(),e.specs.wingspan.toString(),e.specs.aspectRatio.toString()].some((function(e){return e.toLowerCase().includes(r)}))}))}),[e,t])}}(C,e.params?.searchQuery||""),{sortOption:k,setSortOption:v,sortedFoils:B}=u(T),{selectedFoils:I,toggleFoilSelection:z,isSelected:H,clearSelection:V}=function(){var e=(0,n.useState)([]),t=(0,c.A)(e,2),r=t[0],o=t[1],i=(0,n.useCallback)((function(e){o((function(t){return t.some((function(t){return t.model===e.model&&t.brand===e.brand}))?t.filter((function(t){return!(t.model===e.model&&t.brand===e.brand)})):[].concat((0,d.A)(t),[e])}))}),[]),s=(0,n.useCallback)((function(e){return r.some((function(t){return t.model===e.model&&t.brand===e.brand}))}),[r]),l=(0,n.useCallback)((function(){o([])}),[]);return{selectedFoils:r,toggleFoilSelection:i,isSelected:s,clearSelection:l}}(),W=()=>{y(!1)};return g?(0,m.jsx)(O.I,{}):b?(0,m.jsx)(i.A,{style:D.error,children:b}):(0,m.jsxs)(o.A,{style:D.container,children:[(0,m.jsx)(R,{title:"FoilQuiver - Browse and compare hydrofoils",description:`Compare ${h.length} hydrofoils across ${j.brands.length} brands. Filter by type, brand, and specifications to find your perfect foil.`,canonicalUrl:"https://foilquiver.com/browse"}),(0,m.jsxs)(o.A,{style:D.content,children:[(0,m.jsx)(o.A,{style:D.tableContainer,children:f?(0,m.jsx)(S,{foils:I,onClose:W,onCompare:()=>{},columns:p}):(0,m.jsx)(w,{foils:B,onSort:e=>{v((t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"})))},onFoilSelect:z,isSelected:H,sortOption:{field:k.field,ascending:"asc"===k.direction},columns:p,filters:r})}),(0,m.jsx)(A,{selectedFoils:I,onCompareSelected:()=>{y(!0)},onExitCompare:W,onClearSelection:V,isComparisonView:f})]}),(0,m.jsx)(F,{})]})}const D=s.A.create({container:{flex:1,backgroundColor:f.T.background.primary},content:{flex:1,paddingHorizontal:24,width:"100%",alignItems:"flex-start"},tableContainer:{flex:1,width:"100%"},error:{color:"red",padding:16,textAlign:"center"}})}}]);
//# sourceMappingURL=214.8d9d21f6.chunk.js.map