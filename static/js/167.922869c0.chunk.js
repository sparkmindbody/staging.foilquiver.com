(self.webpackChunkweb=self.webpackChunkweb||[]).push([[167],{5167:(e,t,o)=>{o.r(t),o.d(t,{default:()=>W});var r=o(6665),n=o(3929),i=o(6283),s=o(3668),l=o(558),c=o(209),a=o(2419),d=o(5458);function p(e){const[t,o]=(0,r.useState)({field:"area",direction:"desc"}),n=(0,r.useMemo)((()=>{return o=e,r=t.field,n=t.direction,(0,d.A)(o).sort((function(e,t){var o,i;"brand"===r||"series"===r||"model"===r||"type"===r?(o=e[r].toLowerCase(),i=t[r].toLowerCase()):"price"===r?(o=e.price||0,i=t.price||0):r in e.specs?(o=e.specs[r]||0,i=t.specs[r]||0):(o="",i="");var s="asc"===n?1:-1;return"string"===typeof o&&"string"===typeof i?o.localeCompare(i)*s:"number"===typeof o&&"number"===typeof i?(o-i)*s:0}));var o,r,n}),[e,t]);return{sortOption:t,setSortOption:o,sortedFoils:n}}var u=o(296),h=o(5708),b=o(4307),x=o(5991),g=o(4667),m=o(2763),f=o(5535),y=o(397);const j=({foils:e,onSort:t,onFoilSelect:o,isSelected:s,sortOption:c,columns:a,filters:d})=>{const{width:p}=(0,l.A)(),u=p<m.Dy,{colors:j}=(0,g.D)();(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,f.QZ)();!e||e.field===c.field&&e.ascending===c.ascending||t(e.field)}catch(e){}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{await(0,f.pC)({field:c.field,ascending:c.ascending})}catch(e){}})()}),[c]);const w=e=>m.lU[e]||150,A=e=>{switch(e){case"brand":return d.brands.length>0;case"series":return d.series.length>0;case"type":return d.type.length>0;default:return!1}},k=(e,t)=>{let o="-";switch(t){case"brand":o=e.brand;break;case"model":o=e.model;break;case"series":o=e.series||"-";break;case"area":o=e.specs.area?.toFixed(2)||"-";break;case"wingspan":o=e.specs.wingspan?.toFixed(2)||"-";break;case"aspectRatio":o=e.specs.aspectRatio?.toFixed(2)||"-";break;case"type":o=e.type||"-";break;case"price":o=e.price?`$${e.price}`:"-";break;case"link":return(0,y.jsxs)(h.A,{style:[C.linkButton,{backgroundColor:j.primary}],onPress:()=>window.open(e.sourceUrl,"_blank"),children:[(0,y.jsx)(i.A,{style:[C.linkText,{color:j.text.inverse}],children:"View"}),(0,y.jsx)(i.A,{style:[C.externalLinkIcon,{color:j.text.inverse}],children:"\u2197"})]})}return(0,y.jsx)(i.A,{style:[C.cellText,{color:j.text.primary},["area","wingspan","aspectRatio","price"].includes(t)&&C.numberText],children:o})};return(0,y.jsx)(n.A,{style:[C.container,{backgroundColor:j.background.primary}],children:(0,y.jsx)(b.A,{horizontal:!0,showsHorizontalScrollIndicator:!0,style:[C.horizontalScrollView,u&&{marginHorizontal:-m.Op,paddingHorizontal:m.Op}],children:(0,y.jsxs)(n.A,{style:C.tableContent,children:[(0,y.jsx)(n.A,{style:[C.tableHeader,{backgroundColor:j.background.secondary}],children:(0,y.jsx)(n.A,{style:[C.headerRow,{borderBottomColor:j.border}],children:a.map((e=>{return e.isVisible&&(0,y.jsxs)(h.A,{style:[C.headerCell,{width:w(e.id),borderRightColor:j.border,borderBottomColor:A(e.id)?j.primary:j.border},A(e.id)&&C.headerCellFiltered],onPress:()=>t(e.id),children:[(0,y.jsx)(i.A,{style:[C.headerText,{color:A(e.id)?j.primary:j.text.secondary}],children:e.label}),(o=e.id,c.field!==o?(0,y.jsxs)(n.A,{style:C.sortIconContainer,children:[(0,y.jsx)(i.A,{style:[C.sortIcon,{color:j.text.tertiary}],children:"\u25b2"}),(0,y.jsx)(i.A,{style:[C.sortIcon,{color:j.text.tertiary}],children:"\u25bc"})]}):(0,y.jsxs)(n.A,{style:C.sortIconContainer,children:[(0,y.jsx)(i.A,{style:[C.sortIcon,c.ascending&&[C.sortIconUpActive,{color:j.primary}]],children:"\u25b2"}),(0,y.jsx)(i.A,{style:[C.sortIcon,!c.ascending&&[C.sortIconDownActive,{color:j.primary}]],children:"\u25bc"})]}))]},e.id);var o}))})}),(0,y.jsx)(b.A,{style:C.scrollView,showsVerticalScrollIndicator:!0,bounces:!1,children:e.map(((e,t)=>(0,y.jsx)(h.A,{onPress:()=>o(e),style:({pressed:o})=>[C.row,{borderBottomColor:j.border},t%2===0&&[C.rowEven,{backgroundColor:j.background.secondary}],s(e)&&[C.rowSelected,{backgroundColor:`${j.primary}15`}],"web"===x.A.OS&&o&&[C.rowHovered,{backgroundColor:`${j.primary}10`}]],children:a.map((t=>t.isVisible&&(0,y.jsx)(n.A,{style:[C.cell,{width:w(t.id),borderRightColor:j.border}],children:k(e,t.id)},t.id)))},`${e.brand}-${e.model}`)))})]})})})},C=s.A.create({container:{flex:1,width:"100%"},horizontalScrollView:{flex:1,width:"100%"},tableContent:{flex:1,minWidth:"100%"},tableHeader:{borderBottomWidth:1},headerRow:{flexDirection:"row",borderBottomWidth:1},headerCell:Object.assign({flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:12,borderRightWidth:1,borderBottomWidth:2},"web"===x.A.OS&&{cursor:"pointer"}),headerCellFiltered:{borderBottomWidth:2},headerText:{fontWeight:"600",fontSize:14,flex:1},row:Object.assign({flexDirection:"row",borderBottomWidth:1},"web"===x.A.OS&&{cursor:"pointer"}),rowEven:{},rowSelected:{},rowHovered:{},cell:{padding:12,borderRightWidth:1},cellText:{fontSize:14},numberText:{textAlign:"right"},scrollView:{flex:1},sortIconContainer:{flexDirection:"column",alignItems:"center",height:28,justifyContent:"center",width:16,gap:2,marginLeft:8},sortIcon:{fontSize:12,width:12,height:10,lineHeight:10,textAlign:"center"},sortIconUpActive:{fontSize:13},sortIconDownActive:{fontSize:13},linkButton:Object.assign({paddingHorizontal:8,paddingVertical:4,borderRadius:4,minWidth:44,alignItems:"center",position:"relative"},"web"===x.A.OS&&{cursor:"pointer"}),linkText:{fontSize:12,fontWeight:"600"},externalLinkIcon:{position:"absolute",top:0,right:2,fontSize:12,fontWeight:"600"}});var w=o(5713);const A=x.A.select({web:({children:e})=>(0,y.jsx)("div",{style:{position:"fixed",bottom:64,left:0,right:0,zIndex:2e3,pointerEvents:"none"},children:(0,y.jsx)("div",{style:{pointerEvents:"auto",display:"flex",justifyContent:"flex-end",paddingRight:16,paddingBottom:0},children:e})}),default:({children:e})=>(0,y.jsx)(y.Fragment,{children:e})}),k=({selectedFoils:e,onCompareSelected:t,onExitCompare:o,onClearSelection:r,isComparisonView:s})=>{if(0===e.length&&!s)return null;const l=s?(0,y.jsx)(n.A,{style:S.comparisonBar,children:(0,y.jsx)(h.A,{style:[S.button,S.backButton],onPress:o,children:(0,y.jsx)(i.A,{style:[S.buttonText,S.backButtonText],children:"Back"})})}):(0,y.jsx)(n.A,{style:S.comparisonBar,children:(0,y.jsxs)(n.A,{style:S.buttonGroup,children:[(0,y.jsx)(h.A,{style:[S.button,S.clearButton],onPress:r,children:(0,y.jsx)(i.A,{style:[S.buttonText,S.clearButtonText],children:"Clear"})}),(0,y.jsx)(h.A,{style:[S.button,S.compareButton,e.length<2&&S.buttonDisabled],onPress:t,disabled:e.length<2,children:(0,y.jsx)(i.A,{style:[S.buttonText,S.compareButtonText],children:"Compare"})})]})});return"web"===x.A.OS?(0,y.jsx)(A,{children:l}):(0,y.jsx)(n.A,{style:S.container,children:l})},S=s.A.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,paddingBottom:8,backgroundColor:w.T.background.secondary,borderTopWidth:1,borderTopColor:w.T.border},comparisonBar:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:12,backgroundColor:"transparent"},buttonGroup:{flexDirection:"row",gap:12},button:Object.assign({paddingHorizontal:16,paddingVertical:12,borderRadius:8},x.A.select({web:{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"},default:{elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4}})),buttonDisabled:{opacity:.5},clearButton:{backgroundColor:w.T.background.primary,borderWidth:1,borderColor:w.T.primary},compareButton:{backgroundColor:w.T.primary},backButton:{backgroundColor:w.T.primary},buttonText:{fontWeight:"600",fontSize:14},clearButtonText:{color:w.T.primary},compareButtonText:{color:w.T.background.primary},backButtonText:{color:w.T.background.primary}}),v=({foils:e,onClose:t,onCompare:o,columns:r})=>{const{sortOption:i,setSortOption:s,sortedFoils:l}=p(e);return(0,y.jsxs)(n.A,{style:T.container,children:[(0,y.jsx)(j,{foils:l,onSort:e=>{s((t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"})))},onFoilSelect:()=>{},isSelected:()=>!1,sortOption:{field:i.field,ascending:"asc"===i.direction},columns:r,filters:{brands:[],series:[],type:[]}}),(0,y.jsx)(n.A,{style:T.comparisonControlsContainer,children:(0,y.jsx)(k,{selectedFoils:e,onCompareSelected:()=>{},onExitCompare:t||(()=>{}),onClearSelection:()=>{},isComparisonView:!0})})]})},T=s.A.create({container:{flex:1,position:"relative"},comparisonControlsContainer:{position:"absolute",bottom:16,right:0,left:0,paddingHorizontal:m.Op}});var B=o(2167);function F(){const e=(0,B.cq)(),{width:t}=(0,l.A)(),{colors:o}=(0,g.D)(),r=t<768;return(0,y.jsx)(n.A,{style:[I.container,r&&I.containerMobile,{backgroundColor:o.background.primary,borderTopColor:o.border}],children:(0,y.jsx)(n.A,{style:[I.content,r&&I.contentMobile],children:(0,y.jsxs)(n.A,{style:[I.linkGroup,r&&I.linkGroupMobile],children:[(0,y.jsx)(h.A,{onPress:()=>e.navigate("Terms"),children:(0,y.jsx)(i.A,{style:[I.link,{color:o.text.secondary}],children:"Terms of Service"})}),(0,y.jsx)(i.A,{style:[I.separator,{color:o.text.tertiary}],children:"\u2022"}),(0,y.jsx)(h.A,{onPress:()=>e.navigate("Privacy"),children:(0,y.jsx)(i.A,{style:[I.link,{color:o.text.secondary}],children:"Privacy Policy"})}),(0,y.jsx)(i.A,{style:[I.separator,{color:o.text.tertiary}],children:"\u2022"}),(0,y.jsx)(h.A,{onPress:()=>e.navigate("Contact"),children:(0,y.jsx)(i.A,{style:[I.link,{color:o.text.secondary}],children:"Contact Us"})})]})})})}const I=s.A.create({container:{borderTopWidth:1,padding:16},containerMobile:{padding:12},content:{maxWidth:1200,marginHorizontal:"auto",flexDirection:"row",justifyContent:"center",alignItems:"center"},contentMobile:{flexDirection:"column",gap:8},linkGroup:{flexDirection:"row",alignItems:"center",gap:16},linkGroupMobile:{gap:8},link:{fontSize:14},separator:{fontSize:14}});var O=o(7821),z=o(5229),D=function(e){var t=e.title,o=e.description,r=e.canonicalUrl,n=e.imageUrl,i=`${t} | FoilQuiver`;return(0,y.jsxs)(z.mg,{children:[(0,y.jsx)("title",{children:i}),(0,y.jsx)("meta",{name:"description",content:o}),r&&(0,y.jsx)("link",{rel:"canonical",href:r}),(0,y.jsx)("meta",{property:"og:title",content:i}),(0,y.jsx)("meta",{property:"og:description",content:o}),n&&(0,y.jsx)("meta",{property:"og:image",content:n}),(0,y.jsx)("meta",{name:"twitter:title",content:i}),(0,y.jsx)("meta",{name:"twitter:description",content:o}),n&&(0,y.jsx)("meta",{name:"twitter:image",content:n})]})};function W({route:e,navigation:t,filters:o,onFilterChange:s,columns:h}){const{width:b}=(0,l.A)(),x=b<m.Dy,{foils:f,loading:C,error:w,refreshFoils:A}=(0,c.J)(),[S,T]=(0,r.useState)(!1),{filteredFoils:B,filterOptions:I}=(0,a.c)(f,o),{colors:z}=(0,g.D)(),{searchedFoils:W}=function(e,t){return{searchedFoils:(0,r.useMemo)((function(){if(!t.trim())return e;var o=t.toLowerCase().trim();return e.filter((function(e){return[e.brand,e.model,e.series,e.specs.area.toString(),e.specs.wingspan.toString(),e.specs.aspectRatio.toString()].some((function(e){return e.toLowerCase().includes(o)}))}))}),[e,t])}}(B,e.params?.searchQuery||""),{sortOption:R,setSortOption:V,sortedFoils:P}=p(W),{selectedFoils:E,toggleFoilSelection:$,isSelected:M,clearSelection:U}=function(){var e=(0,r.useState)([]),t=(0,u.A)(e,2),o=t[0],n=t[1],i=(0,r.useCallback)((function(e){n((function(t){return t.some((function(t){return t.model===e.model&&t.brand===e.brand}))?t.filter((function(t){return!(t.model===e.model&&t.brand===e.brand)})):[].concat((0,d.A)(t),[e])}))}),[]),s=(0,r.useCallback)((function(e){return o.some((function(t){return t.model===e.model&&t.brand===e.brand}))}),[o]),l=(0,r.useCallback)((function(){n([])}),[]);return{selectedFoils:o,toggleFoilSelection:i,isSelected:s,clearSelection:l}}(),L=()=>{T(!1)};return C?(0,y.jsx)(O.I,{}):w?(0,y.jsx)(i.A,{style:[H.error,{color:z.error}],children:w}):(0,y.jsxs)(n.A,{style:[H.container,{backgroundColor:z.background.primary}],children:[(0,y.jsx)(D,{title:"FoilQuiver - Browse and compare hydrofoils",description:`Compare ${f.length} hydrofoils across ${I.brands.length} brands. Filter by type, brand, and specifications to find your perfect foil.`,canonicalUrl:"https://foilquiver.com/browse"}),(0,y.jsx)(n.A,{style:[H.content,!x&&H.contentDesktop],children:(0,y.jsx)(n.A,{style:H.tableContainer,children:S?(0,y.jsx)(v,{foils:E,onClose:L,onCompare:()=>{},columns:h}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{foils:P,onSort:e=>{V((t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"})))},onFoilSelect:$,isSelected:M,sortOption:{field:R.field,ascending:"asc"===R.direction},columns:h,filters:o}),(0,y.jsx)(n.A,{style:H.comparisonControlsContainer,children:(0,y.jsx)(k,{selectedFoils:E,onCompareSelected:()=>{T(!0)},onExitCompare:L,onClearSelection:U,isComparisonView:S})})]})})}),(0,y.jsx)(F,{})]})}const H=s.A.create({container:{flex:1},content:{flex:1,width:"100%",alignItems:"flex-start"},contentDesktop:{paddingHorizontal:m.Op},tableContainer:{flex:1,width:"100%",position:"relative"},comparisonControlsContainer:{position:"absolute",bottom:16,right:0,left:0,paddingHorizontal:m.Op},error:{padding:16,textAlign:"center"}})}}]);
//# sourceMappingURL=167.922869c0.chunk.js.map