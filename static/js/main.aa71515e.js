(self.webpackChunkweb=self.webpackChunkweb||[]).push([[792],{8176:(e,t,r)=>{var n=r(2299),i=r(296),s=r(6665),o=r(6520),l=r(8833),a=r(5229),c=r(3029),d=r(2901),h=r(388),u=r(3954),y=r(5361),f=r(3929),p=r(6283),b=r(3668),x=r(397);function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var m=function(e){function t(){var e,r,n,i;(0,c.A)(this,t);for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return r=this,n=t,i=[].concat(o),n=(0,u.A)(n),(e=(0,h.A)(r,g()?Reflect.construct(n,i||[],(0,u.A)(r).constructor):n.apply(r,i))).state={hasError:!1,error:null},e}return(0,y.A)(t,e),(0,d.A)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e;return this.state.hasError?(0,x.jsxs)(f.A,{style:A.container,children:[(0,x.jsx)(p.A,{style:A.text,children:"Something went wrong."}),(0,x.jsx)(p.A,{style:A.errorText,children:null==(e=this.state.error)?void 0:e.message})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}])}(s.Component),A=b.A.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:20},text:{fontSize:16,marginBottom:10},errorText:{color:"red",fontSize:14}}),j=r(5708),C=r(558),T=r(9138),S=r(2167),v=r(6773),k=r(5713);function w({value:e,onChangeText:t,onClear:r,placeholder:n="\ud83d\udd0d Search foils..."}){return(0,x.jsxs)(f.A,{style:B.container,children:[(0,x.jsx)(v.A,{style:B.input,value:e,onChangeText:t,placeholder:n,placeholderTextColor:k.T.text.muted,autoCapitalize:"none",autoCorrect:!1}),e.length>0&&(0,x.jsx)(j.A,{style:B.clearButton,onPress:r,children:(0,x.jsx)(p.A,{style:B.clearButtonText,children:"\u2715"})})]})}const B=b.A.create({container:{flex:1,flexDirection:"row",alignItems:"center",backgroundColor:k.T.background.secondary,borderRadius:8,paddingHorizontal:12,borderWidth:1,borderColor:k.T.border,height:"100%",minHeight:36},input:{flex:1,fontSize:14,color:k.T.text.primary,height:"100%",padding:0},clearButton:{padding:4},clearButtonText:{color:k.T.text.muted,fontSize:14,fontWeight:"bold"}});var F=r(7821),P=r(8264),W=r(5991),V=r(4307),z=r(9372);function I({filterOptions:e,selectedBrands:t,selectedSeries:r,selectedTypes:n,onFilterChange:i,onClearFilters:o,columns:l,onColumnVisibilityChange:a,onResetColumns:c,foils:d}){const[h,u]=(0,s.useState)(!1),[y,b]=(0,s.useState)("filters"),g=(0,s.useMemo)((()=>{if(0===t.length)return e.series;const r=new Set;return d.forEach((e=>{t.includes(e.brand)&&e.series&&r.add(e.series)})),Array.from(r).sort()}),[e.series,t,d]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.A,{onPress:()=>u(!0),style:O.iconButton,children:(0,x.jsx)(z.A,{name:"settings",size:24,color:k.T.text.primary})}),(0,x.jsx)(P.A,{visible:h,transparent:!0,animationType:"fade",onRequestClose:()=>u(!1),children:(0,x.jsx)(j.A,{style:O.modalOverlay,onPress:()=>u(!1),children:(0,x.jsxs)(j.A,{style:O.modalContent,onPress:e=>e.stopPropagation(),children:[(0,x.jsxs)(f.A,{style:O.modalHeader,children:[(0,x.jsx)(p.A,{style:O.modalTitle,children:"Table Settings"}),(0,x.jsx)(j.A,{onPress:()=>u(!1),style:O.closeButton,children:(0,x.jsx)(z.A,{name:"close",size:24,color:k.T.text.secondary})})]}),(0,x.jsxs)(f.A,{style:O.tabs,children:[(0,x.jsx)(j.A,{style:[O.tab,"filters"===y&&O.activeTab],onPress:()=>b("filters"),children:(0,x.jsxs)(p.A,{style:[O.tabText,"filters"===y&&O.activeTabText],children:["Filters ",(t.length>0||r.length>0||n.length>0)&&"\u2022"]})}),(0,x.jsx)(j.A,{style:[O.tab,"columns"===y&&O.activeTab],onPress:()=>b("columns"),children:(0,x.jsxs)(p.A,{style:[O.tabText,"columns"===y&&O.activeTabText],children:["Columns ",l.some((e=>!e.isVisible))&&"\u2022"]})})]}),"filters"===y?(0,x.jsx)(f.A,{style:O.contentWrapper,children:(0,x.jsx)(V.A,{style:O.scrollView,contentContainerStyle:O.scrollContent,children:(0,x.jsxs)(f.A,{style:O.content,children:[(0,x.jsxs)(f.A,{style:O.headerWithAction,children:[(0,x.jsx)(p.A,{style:O.contentTitle,children:"Active Filters"}),(t.length>0||r.length>0||n.length>0)&&(0,x.jsx)(j.A,{onPress:o,style:O.clearButton,children:(0,x.jsx)(p.A,{style:O.clearButtonText,children:"Clear All"})})]}),(0,x.jsxs)(f.A,{style:O.section,children:[(0,x.jsx)(p.A,{style:O.sectionTitle,children:"Brand"}),(0,x.jsx)(f.A,{style:O.chipContainer,children:e.brands.map((e=>(0,x.jsx)(j.A,{style:[O.chip,t.includes(e)&&O.chipSelected],onPress:()=>i("brands",e),children:(0,x.jsx)(p.A,{style:[O.chipText,t.includes(e)&&O.chipTextSelected],children:e})},e)))})]}),(0,x.jsxs)(f.A,{style:O.section,children:[(0,x.jsx)(p.A,{style:O.sectionTitle,children:"Type"}),(0,x.jsx)(f.A,{style:O.chipContainer,children:e.types.map((e=>(0,x.jsx)(j.A,{style:[O.chip,n.includes(e)&&O.chipSelected],onPress:()=>i("type",e),children:(0,x.jsx)(p.A,{style:[O.chipText,n.includes(e)&&O.chipTextSelected],children:e})},e)))})]}),(0,x.jsxs)(f.A,{style:O.section,children:[(0,x.jsx)(p.A,{style:O.sectionTitle,children:"Series"}),(0,x.jsx)(f.A,{style:O.chipContainer,children:g.length>0?g.map((e=>(0,x.jsx)(j.A,{style:[O.chip,r.includes(e)&&O.chipSelected],onPress:()=>i("series",e),children:(0,x.jsx)(p.A,{style:[O.chipText,r.includes(e)&&O.chipTextSelected],children:e})},e))):(0,x.jsx)(p.A,{style:O.noSeriesText,children:"No series available for selected brands"})})]})]})})}):(0,x.jsx)(f.A,{style:O.contentWrapper,children:(0,x.jsx)(V.A,{style:O.scrollView,contentContainerStyle:O.scrollContent,children:(0,x.jsxs)(f.A,{style:O.content,children:[(0,x.jsxs)(f.A,{style:O.headerWithAction,children:[(0,x.jsx)(p.A,{style:O.contentTitle,children:"Visible Columns"}),l.some((e=>!e.isVisible))&&(0,x.jsx)(j.A,{onPress:c,style:O.clearButton,children:(0,x.jsx)(p.A,{style:O.clearButtonText,children:"Reset"})})]}),(0,x.jsx)(f.A,{style:O.columnList,children:l.map((e=>(0,x.jsxs)(j.A,{style:O.columnItem,onPress:()=>a(e.id),children:[(0,x.jsx)(p.A,{style:O.columnLabel,children:e.label}),(0,x.jsx)(f.A,{style:[O.checkbox,e.isVisible&&O.checkboxChecked],children:e.isVisible&&(0,x.jsx)(z.A,{name:"check",size:16,color:k.T.background.primary})})]},e.id)))})]})})})]})})})]})}const O=b.A.create({iconButton:Object.assign({width:40,height:40,borderRadius:8,backgroundColor:k.T.background.secondary,alignItems:"center",justifyContent:"center"},"web"===W.A.OS&&{cursor:"pointer",transition:"all 0.2s ease",":hover":{backgroundColor:k.T.primary}}),modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:k.T.background.primary,borderRadius:8,width:"90%",maxWidth:480,maxHeight:"90%",overflow:"hidden"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:k.T.border},modalTitle:{fontSize:18,fontWeight:"600",color:k.T.text.primary},closeButton:{padding:4},tabs:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:k.T.border},tab:{flex:1,padding:12,alignItems:"center"},activeTab:{borderBottomWidth:2,borderBottomColor:k.T.primary},tabText:{color:k.T.text.secondary,fontSize:14,fontWeight:"500"},activeTabText:{color:k.T.primary},content:{padding:16,width:"100%"},contentWrapper:{flex:1},scrollView:{flex:1},scrollContent:{flexGrow:1},section:{marginBottom:24},sectionTitle:{fontSize:14,fontWeight:"600",color:k.T.text.primary,marginBottom:12},chipContainer:{flexDirection:"row",flexWrap:"wrap",gap:8},chip:{backgroundColor:k.T.background.secondary,borderRadius:16,paddingHorizontal:12,paddingVertical:6},chipSelected:{backgroundColor:k.T.primary},chipText:{color:k.T.text.secondary,fontSize:14},chipTextSelected:{color:k.T.background.primary},columnList:{gap:12},columnItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8},columnLabel:{fontSize:14,color:k.T.text.primary},checkbox:{width:20,height:20,borderRadius:4,borderWidth:2,borderColor:k.T.border,alignItems:"center",justifyContent:"center"},checkboxChecked:{backgroundColor:k.T.primary,borderColor:k.T.primary},headerWithAction:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},contentTitle:{fontSize:16,fontWeight:"600",color:k.T.text.primary},clearButton:{paddingHorizontal:12,paddingVertical:6,borderRadius:16,backgroundColor:k.T.background.secondary},clearButtonText:{color:k.T.text.secondary,fontSize:14},noSeriesText:{color:k.T.text.secondary,fontSize:14,fontWeight:"500"}});var R=r(209),D=r(2419),M=r(2763);const E=(0,s.lazy)((()=>r.e(167).then(r.bind(r,5167)))),H=(0,s.lazy)((()=>r.e(951).then(r.bind(r,8951)))),L=(0,s.lazy)((()=>r.e(50).then(r.bind(r,3050)))),Q=(0,s.lazy)((()=>r.e(503).then(r.bind(r,2503)))),_=(0,T.A)(),N=({searchQuery:e,onSearch:t})=>{const r=(0,S.cq)(),{foils:n}=(0,R.J)(),[i,o]=(0,s.useState)(M._X),[l,a]=(0,s.useState)({brands:[],series:[],type:[]}),{filterOptions:c}=(0,D.c)(n,l),{width:d}=(0,C.A)(),h=d<M.Dy,u=()=>{r.reset({index:0,routes:[{name:"Browse",params:{searchQuery:e}}]})},y=(e,t)=>{a((r=>{const n=Object.assign({},r);if("type"===e){const e=r.type;n.type=e.includes(t)?e.filter((e=>e!==t)):[...e,t]}else{const i=r[e];n[e]=i.includes(t)?i.filter((e=>e!==t)):[...i,t]}return n}))},b=e=>{o((t=>t.map((t=>t.id===e?Object.assign({},t,{isVisible:!t.isVisible}):t))))},g=()=>{a({brands:[],series:[],type:[]})},m=()=>{o(M._X)},A=s.useMemo((()=>(0,M.lD)(i)),[i]),T=s.useMemo((()=>(0,M.y6)(A,d,h)),[A,d,h]);return(0,x.jsxs)(_.Navigator,{screenOptions:{headerStyle:{backgroundColor:k.T.background.primary},headerShadowVisible:!1},children:[(0,x.jsx)(_.Screen,{name:"Browse",options:{headerTitle:"",headerLeft:()=>(0,x.jsx)(f.A,{style:[U.headerOuterContainer,!h&&{alignItems:"center"}],children:h?(0,x.jsx)(f.A,{style:U.headerMainContainerMobile,children:(0,x.jsx)(j.A,{onPress:u,style:({pressed:e})=>[U.logoContainer,e&&U.logoPressed],children:(0,x.jsx)(p.A,{style:U.headerTitle,children:"FoilQuiver"})})}):(0,x.jsx)(f.A,{style:[U.headerMainContainerWeb,{width:T}],children:(0,x.jsxs)(f.A,{style:U.headerContentWeb,children:[(0,x.jsx)(j.A,{onPress:u,style:({pressed:e})=>[U.logoContainer,e&&U.logoPressed],children:(0,x.jsx)(p.A,{style:U.headerTitle,children:"FoilQuiver"})}),(0,x.jsx)(f.A,{style:U.searchBarContainerWeb,children:(0,x.jsx)(w,{value:e,onChangeText:t,onClear:()=>t("")})}),(0,x.jsx)(I,{filterOptions:c,selectedBrands:l.brands,selectedSeries:l.series,selectedTypes:l.type,onFilterChange:y,onClearFilters:g,columns:i,onColumnVisibilityChange:b,onResetColumns:m,foils:n})]})})}),headerRight:()=>h?(0,x.jsxs)(f.A,{style:U.headerRightContainerMobile,children:[(0,x.jsx)(f.A,{style:U.searchBarContainerMobile,children:(0,x.jsx)(w,{value:e,onChangeText:t,onClear:()=>t("")})}),(0,x.jsx)(I,{filterOptions:c,selectedBrands:l.brands,selectedSeries:l.series,selectedTypes:l.type,onFilterChange:y,onClearFilters:g,columns:i,onColumnVisibilityChange:b,onResetColumns:m,foils:n})]}):null},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(F.I,{}),children:(0,x.jsx)(E,Object.assign({},e,{filters:l,onFilterChange:y,columns:i}))})}),(0,x.jsx)(_.Screen,{name:"Terms",options:{title:"Terms of Service",headerStyle:{backgroundColor:"#f4f4f4"}},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(F.I,{}),children:(0,x.jsx)(L,Object.assign({},e))})}),(0,x.jsx)(_.Screen,{name:"Privacy",options:{title:"Privacy Policy",headerStyle:{backgroundColor:"#f4f4f4"}},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(F.I,{}),children:(0,x.jsx)(H,Object.assign({},e))})}),(0,x.jsx)(_.Screen,{name:"Contact",options:{title:"Contact Us",headerStyle:{backgroundColor:"#f4f4f4"}},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(F.I,{}),children:(0,x.jsx)(Q,Object.assign({},e))})})]})},U=b.A.create({headerOuterContainer:{flex:1,backgroundColor:k.T.background.primary,paddingHorizontal:M.Op},headerMainContainerMobile:{flexDirection:"row",alignItems:"center",height:56,width:"100%"},headerRightContainerMobile:{flexDirection:"row",alignItems:"center",gap:8,paddingRight:12},searchBarContainerMobile:{width:160,height:36},headerMainContainerWeb:{height:72,width:"100%"},headerContentWeb:{flexDirection:"row",alignItems:"center",gap:24,height:"100%",width:"100%"},searchBarContainerWeb:{flex:1,height:40},logoContainer:{height:"100%",justifyContent:"center",minWidth:120},logoPressed:{opacity:.7},headerTitle:{color:k.T.primary,fontSize:24,fontWeight:"bold"}});(0,n.A)((function(){var e=(0,s.useState)(""),t=(0,i.A)(e,2),r=t[0],n=t[1],c=(0,s.useRef)(null),d={prefixes:["https://foilquiver.com","http://localhost:19006"],config:{screens:{browse:"",terms:"terms",privacy:"privacy",contact:"contact",comparison:"comparison",brand:"brand/:brandName",foil:"foil/:brandName/:modelName"}},getInitialURL:function(){return`/?searchQuery=${new URL(window.location.href).searchParams.get("searchQuery")||""}`}};return(0,x.jsx)(a.vd,{children:(0,x.jsx)(m,{children:(0,x.jsx)(l.Oy,{children:(0,x.jsx)(o.A,{ref:c,linking:d,fallback:(0,x.jsx)(F.I,{}),children:(0,x.jsx)(N,{searchQuery:r,onSearch:function(e){n(e),c.current&&c.current.setParams({searchQuery:e})}})})})})})}))},7821:(e,t,r)=>{r.d(t,{I:()=>l}),r(6665);var n=r(530),i=r(3929),s=r(3668),o=r(397);function l(){return(0,o.jsx)(i.A,{style:a.container,children:(0,o.jsx)(n.A,{size:"large",color:"#0000ff"})})}var a=s.A.create({container:{flex:1,justifyContent:"center",alignItems:"center"}})},2763:(e,t,r)=>{r.d(t,{Dy:()=>i,Op:()=>n,_X:()=>o,lD:()=>l,lU:()=>s,y6:()=>a});const n=16,i=768,s={brand:100,series:120,model:150,area:80,wingspan:80,aspectRatio:80,type:80,price:105,link:80},o=[{id:"brand",label:"Brand",isVisible:!0},{id:"series",label:"Series",isVisible:!1},{id:"model",label:"Model",isVisible:!0},{id:"area",label:"Area",isVisible:!0},{id:"wingspan",label:"Span",isVisible:!0},{id:"aspectRatio",label:"AR",isVisible:!0},{id:"type",label:"Type",isVisible:!0},{id:"price",label:"Price",isVisible:!0},{id:"link",label:"Link",isVisible:!0}],l=e=>e.reduce(((e,t)=>t.isVisible?e+(s[t.id]||100):e),0),a=(e,t,r)=>r?t:Math.min(e,t-48)},2419:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(6665);function i(e,t){const r=(0,n.useMemo)((()=>{const r=Array.from(new Set(e.map((e=>e.brand)))).sort(),n=function(e){return e.reduce(((e,t)=>(e[t.brand]||(e[t.brand]=[]),e[t.brand].push(t),e)),{})}(e);let i=[];if(0===t.brands.length)i=Array.from(new Set(e.map((e=>e.series)))).sort();else{const e=t.brands.flatMap((e=>n[e]||[]));i=Array.from(new Set(e.map((e=>e.series)))).sort()}return{brands:r,series:i,types:["front","tail"]}}),[e,t.brands]);return{filteredFoils:(0,n.useMemo)((()=>e.filter((e=>{const r=0===t.brands.length||t.brands.includes(e.brand),n=0===t.series.length||t.series.includes(e.series),i=0===t.type.length||t.type.includes(e.type);return r&&n&&i}))),[e,t.brands,t.series,t.type]),filterOptions:r}}},209:(e,t,r)=>{r.d(t,{J:()=>u});var n=r(467),i=r(296),s=r(6665),o=r(5458),l=r(3029),a=r(2901),c=r(5991),d=r(1087),h=(0,a.A)((function e(){(0,l.A)(this,e)}),null,[{key:"getBaseUrl",value:function(){return"https://foilquiver.com"}},{key:"getAllProducts",value:function(){var e=(0,n.A)((function*(){try{if(this.isWeb){var e=this.getBaseUrl();try{var t=yield fetch(`${e}${this.DATA_PATH}`);if(t.ok)return yield t.json()}catch(a){}try{var r=[];for(var n of["armstrong","lift-foils","axis-foils","code-foils","kt-foils","uni-foil"])try{var i=yield fetch(`${e}/${this.CACHE_DIR}/${n}.json`);if(i.ok){var s=yield i.json();r.push.apply(r,(0,o.A)(s))}}catch(a){}if(r.length>0)return r}catch(a){}}else{var l=yield d.A.getItem("foils");if(l)return JSON.parse(l)}}catch(a){}return[]}));return function(){return e.apply(this,arguments)}}()}]);function u(){var e=(0,s.useState)([]),t=(0,i.A)(e,2),r=t[0],o=t[1],l=(0,s.useState)(!0),a=(0,i.A)(l,2),c=a[0],d=a[1],u=(0,s.useState)(null),y=(0,i.A)(u,2),f=y[0],p=y[1],b=function(){var e=(0,n.A)((function*(){try{d(!0),p(null);var e=yield h.getAllProducts();o(e)}catch(t){p(t instanceof Error?t.message:"Failed to load foils")}finally{d(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){b()}),[]),{foils:r,loading:c,error:f,refreshFoils:function(){b()}}}h.isWeb="web"===c.A.OS,h.DATA_PATH="/data/foils.json",h.CACHE_DIR=".cache"},5713:(e,t,r)=>{r.d(t,{T:()=>n});var n={primary:"#BF3475",secondary:"#1F214D",link:"#0066cc",background:{primary:"#FFFFFF",secondary:"#F5F7FA",hover:"#f8f9fa",selected:"#e6f3ff"},text:{primary:"#1A1A1A",secondary:"#4A4A4A",muted:"#757575"},border:"rgba(0, 0, 0, .1)",palette:{deepBlue:"#00659D",teal:"#00ABBC",sand:"#E2C58A",coral:"#FC8890",raspberry:"#B35D7F"},palette2:{midnight:"#1F214D",purple:"#50366F",magenta:"#BF3475",coral:"#EE6C45",gold:"#FFCE61"}}}},e=>{e.O(0,[513],(()=>e(e.s=8176))),e.O()}]);
//# sourceMappingURL=main.aa71515e.js.map