(self.webpackChunkweb=self.webpackChunkweb||[]).push([[792],{9834:(e,t,r)=>{var n=r(2299),s=r(6665),i=r(6520),o=r(2167),a=r(5229),l=r(8833),c=r(3929),d=r(6283),h=r(3668),u=r(5708),y=r(558),g=r(9168),m=r(6773),p=r(5713),x=r(397);function b({value:e,onChangeText:t,onClear:r,placeholder:n="\ud83d\udd0d Search foils..."}){return(0,x.jsxs)(c.A,{style:f.container,children:[(0,x.jsx)(m.A,{style:f.input,value:e,onChangeText:t,placeholder:n,placeholderTextColor:p.T.text.muted,autoCapitalize:"none",autoCorrect:!1}),e.length>0&&(0,x.jsx)(u.A,{style:f.clearButton,onPress:r,children:(0,x.jsx)(d.A,{style:f.clearButtonText,children:"\u2715"})})]})}const f=h.A.create({container:{flex:1,flexDirection:"row",alignItems:"center",backgroundColor:p.T.background.secondary,borderRadius:8,paddingHorizontal:12,borderWidth:1,borderColor:p.T.border,height:"100%",minHeight:36},input:{flex:1,fontSize:14,color:p.T.text.primary,height:"100%",padding:0},clearButton:{padding:4},clearButtonText:{color:p.T.text.muted,fontSize:14,fontWeight:"bold"}});var A=r(7821),j=r(8264),C=r(5991),w=r(4307),S=r(9149),T=r(4667),v=r(5535);function k({filterOptions:e,selectedBrands:t,selectedSeries:r,selectedTypes:n,onFilterChange:i,onClearFilters:o,columns:a,onColumnVisibilityChange:l,onResetColumns:h,foils:y}){const[g,m]=(0,s.useState)(!1),[p,b]=(0,s.useState)("filters"),{colors:f,isDark:A,toggleTheme:C}=(0,T.D)();(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,v.Ir)();e&&(e.brands.forEach((e=>i("brands",e))),e.series.forEach((e=>i("series",e))),e.types.forEach((e=>i("type",e))));const t=await(0,v.E7)();if(t){const e=Object.fromEntries(a.map((e=>[e.id,e.isVisible])));Object.entries(t).forEach((([t,r])=>{e[t]!==r&&l(t)}))}}catch(e){}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e={brands:t,series:r,types:n};await(0,v.ri)(e)}catch(e){}})()}),[t,r,n]),(0,s.useEffect)((()=>{(async()=>{try{const e={};a.forEach((t=>{e[t.id]=t.isVisible})),await(0,v.pF)(e)}catch(e){}})()}),[a]);const k=(0,s.useMemo)((()=>{if(0===t.length)return e.series;const r=new Set;return y.forEach((e=>{t.includes(e.brand)&&e.series&&r.add(e.series)})),Array.from(r).sort()}),[e.series,t,y]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.A,{onPress:()=>m(!0),style:[I.iconButton,{backgroundColor:f.background.secondary}],children:(0,x.jsx)(S.A,{name:"settings",size:24,color:f.text.primary})}),(0,x.jsx)(j.A,{visible:g,transparent:!0,animationType:"fade",onRequestClose:()=>m(!1),children:(0,x.jsx)(u.A,{style:[I.modalOverlay,{backgroundColor:A?"rgba(0, 0, 0, 0.7)":"rgba(0, 0, 0, 0.5)"}],onPress:()=>m(!1),children:(0,x.jsxs)(u.A,{style:[I.modalContent,{backgroundColor:f.background.primary}],onPress:e=>e.stopPropagation(),children:[(0,x.jsxs)(c.A,{style:[I.modalHeader,{borderBottomColor:f.border}],children:[(0,x.jsx)(d.A,{style:[I.modalTitle,{color:f.text.primary}],children:"Table Settings"}),(0,x.jsx)(u.A,{onPress:()=>m(!1),style:I.closeButton,children:(0,x.jsx)(S.A,{name:"close",size:24,color:f.text.secondary})})]}),(0,x.jsxs)(c.A,{style:[I.tabs,{borderBottomColor:f.border}],children:[(0,x.jsx)(u.A,{style:[I.tab,"filters"===p&&[I.activeTab,{borderBottomColor:f.primary}]],onPress:()=>b("filters"),children:(0,x.jsxs)(d.A,{style:[I.tabText,{color:f.text.secondary},"filters"===p&&[I.activeTabText,{color:f.primary}]],children:["Filters ",(t.length>0||r.length>0||n.length>0)&&"\u2022"]})}),(0,x.jsx)(u.A,{style:[I.tab,"columns"===p&&[I.activeTab,{borderBottomColor:f.primary}]],onPress:()=>b("columns"),children:(0,x.jsxs)(d.A,{style:[I.tabText,{color:f.text.secondary},"columns"===p&&[I.activeTabText,{color:f.primary}]],children:["Columns ",a.some((e=>!e.isVisible))&&"\u2022"]})})]}),"filters"===p?(0,x.jsx)(c.A,{style:I.contentWrapper,children:(0,x.jsx)(w.A,{style:I.scrollView,contentContainerStyle:I.scrollContent,children:(0,x.jsxs)(c.A,{style:I.content,children:[(0,x.jsxs)(c.A,{style:I.headerWithAction,children:[(0,x.jsx)(d.A,{style:[I.contentTitle,{color:f.text.primary}],children:"Active Filters"}),(t.length>0||r.length>0||n.length>0)&&(0,x.jsx)(u.A,{onPress:o,style:[I.clearButton,{backgroundColor:f.background.secondary}],children:(0,x.jsx)(d.A,{style:[I.clearButtonText,{color:f.text.secondary}],children:"Clear All"})})]}),(0,x.jsxs)(c.A,{style:I.section,children:[(0,x.jsx)(d.A,{style:[I.sectionTitle,{color:f.text.primary}],children:"Brand"}),(0,x.jsx)(c.A,{style:I.chipContainer,children:e.brands.map((e=>(0,x.jsx)(u.A,{style:[I.chip,{backgroundColor:f.background.secondary},t.includes(e)&&[I.chipSelected,{backgroundColor:f.primary}]],onPress:()=>i("brands",e),children:(0,x.jsx)(d.A,{style:[I.chipText,{color:f.text.secondary},t.includes(e)&&[I.chipTextSelected,{color:f.text.inverse}]],children:e})},e)))})]}),(0,x.jsxs)(c.A,{style:I.section,children:[(0,x.jsx)(d.A,{style:[I.sectionTitle,{color:f.text.primary}],children:"Type"}),(0,x.jsx)(c.A,{style:I.chipContainer,children:e.types.map((e=>(0,x.jsx)(u.A,{style:[I.chip,{backgroundColor:f.background.secondary},n.includes(e)&&[I.chipSelected,{backgroundColor:f.primary}]],onPress:()=>i("type",e),children:(0,x.jsx)(d.A,{style:[I.chipText,{color:f.text.secondary},n.includes(e)&&[I.chipTextSelected,{color:f.text.inverse}]],children:e})},e)))})]}),(0,x.jsxs)(c.A,{style:I.section,children:[(0,x.jsx)(d.A,{style:[I.sectionTitle,{color:f.text.primary}],children:"Series"}),(0,x.jsx)(c.A,{style:I.chipContainer,children:k.length>0?k.map((e=>(0,x.jsx)(u.A,{style:[I.chip,{backgroundColor:f.background.secondary},r.includes(e)&&[I.chipSelected,{backgroundColor:f.primary}]],onPress:()=>i("series",e),children:(0,x.jsx)(d.A,{style:[I.chipText,{color:f.text.secondary},r.includes(e)&&[I.chipTextSelected,{color:f.text.inverse}]],children:e})},e))):(0,x.jsx)(d.A,{style:[I.noSeriesText,{color:f.text.secondary}],children:"No series available for selected brands"})})]}),(0,x.jsxs)(c.A,{style:[I.section,I.themeSection],children:[(0,x.jsx)(d.A,{style:[I.sectionTitle,{color:f.text.primary}],children:"Appearance"}),(0,x.jsxs)(u.A,{style:[I.themeToggle,{backgroundColor:f.background.secondary}],onPress:C,children:[(0,x.jsxs)(c.A,{style:I.themeToggleContent,children:[(0,x.jsx)(S.A,{name:A?"dark-mode":"light-mode",size:20,color:f.text.primary}),(0,x.jsx)(d.A,{style:[I.themeToggleText,{color:f.text.primary}],children:A?"Dark Mode":"Light Mode"})]}),(0,x.jsx)(S.A,{name:"chevron-right",size:20,color:f.text.secondary})]})]})]})})}):(0,x.jsx)(c.A,{style:I.contentWrapper,children:(0,x.jsx)(w.A,{style:I.scrollView,contentContainerStyle:I.scrollContent,children:(0,x.jsxs)(c.A,{style:I.content,children:[(0,x.jsxs)(c.A,{style:I.headerWithAction,children:[(0,x.jsx)(d.A,{style:[I.contentTitle,{color:f.text.primary}],children:"Visible Columns"}),a.some((e=>!e.isVisible))&&(0,x.jsx)(u.A,{onPress:async()=>{h();try{const e={};a.forEach((t=>{e[t.id]=t.isVisible})),await(0,v.pF)(e)}catch(e){}},style:[I.clearButton,{backgroundColor:f.background.secondary}],children:(0,x.jsx)(d.A,{style:[I.clearButtonText,{color:f.text.secondary}],children:"Reset"})})]}),(0,x.jsx)(c.A,{style:I.columnList,children:a.map((e=>(0,x.jsxs)(u.A,{style:I.columnItem,onPress:()=>(async e=>{l(e)})(e.id),children:[(0,x.jsx)(d.A,{style:[I.columnLabel,{color:f.text.primary}],children:e.label}),(0,x.jsx)(c.A,{style:[I.checkbox,{borderColor:f.border},e.isVisible&&[I.checkboxChecked,{backgroundColor:f.primary,borderColor:f.primary}]],children:e.isVisible&&(0,x.jsx)(S.A,{name:"check",size:16,color:f.text.inverse})})]},e.id)))})]})})})]})})})]})}const I=h.A.create({iconButton:Object.assign({width:40,height:40,borderRadius:8,alignItems:"center",justifyContent:"center"},"web"===C.A.OS&&{cursor:"pointer",transition:"all 0.2s ease"}),modalOverlay:{flex:1,justifyContent:"center",alignItems:"center"},modalContent:{borderRadius:8,width:"90%",maxWidth:480,maxHeight:"90%",overflow:"hidden"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:1},modalTitle:{fontSize:18,fontWeight:"600"},closeButton:{padding:4},tabs:{flexDirection:"row",borderBottomWidth:1},tab:{flex:1,padding:12,alignItems:"center"},activeTab:{borderBottomWidth:2},tabText:{fontSize:14,fontWeight:"500"},activeTabText:{},content:{padding:16,width:"100%"},contentWrapper:{flex:1},scrollView:{flex:1},scrollContent:{flexGrow:1},section:{marginBottom:24},sectionTitle:{fontSize:14,fontWeight:"600",marginBottom:12},chipContainer:{flexDirection:"row",flexWrap:"wrap",gap:8},chip:{borderRadius:16,paddingHorizontal:12,paddingVertical:6},chipSelected:{},chipText:{fontSize:14},chipTextSelected:{},columnList:{gap:12},columnItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8},columnLabel:{fontSize:14},checkbox:{width:20,height:20,borderRadius:4,borderWidth:2,alignItems:"center",justifyContent:"center"},checkboxChecked:{},headerWithAction:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},contentTitle:{fontSize:16,fontWeight:"600"},clearButton:{paddingHorizontal:12,paddingVertical:6,borderRadius:16},clearButtonText:{fontSize:14},noSeriesText:{fontSize:14,fontWeight:"500"},themeSection:{marginTop:32},themeToggle:Object.assign({flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:12,borderRadius:8},"web"===C.A.OS&&{cursor:"pointer"}),themeToggleContent:{flexDirection:"row",alignItems:"center",gap:12},themeToggleText:{fontSize:14,fontWeight:"500"}});var O=r(209),F=r(2419),B=r(2763),E=r(5648),z=r(1690),W=r(484),P=r(1385);const D=(0,r(8418).UU)("https://zhylhvuhhoialsgqrxxr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpoeWxodnVoaG9pYWxzZ3FyeHhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkxNjM3NTgsImV4cCI6MjA1NDczOTc1OH0.wrZ05wA3EcbBubG3Mrxmx--fA9ThE2_M9k9WYTmGpag",{auth:{detectSessionInUrl:"web"===C.A.OS,flowType:"pkce",autoRefreshToken:!0,persistSession:!0}});var R=r(530),V=r(3710);const M=({onSuccess:e})=>{const{signInWithGoogle:t,isLoading:r}=(()=>{const[e,t]=(0,s.useState)(!1);return{signInWithGoogle:async()=>{try{if(t(!0),"web"!==C.A.OS)return alert("Mobile authentication not yet implemented"),{data:null,error:new Error("Mobile authentication not yet implemented")};const e=(()=>{if("web"!==C.A.OS)return void alert("Not a web platform");const e=window.location.origin,t=window.location.hostname;if(alert(`Debug Info - Origin: ${e}, Hostname: ${t}`),"localhost"===t||t.includes("127.0.0.1")){const e="http://localhost:19006";return alert(`Development redirect: ${e}`),e}return alert(`Production/staging redirect: ${e}`),e})();alert(`Starting OAuth with redirect: ${e}`);const{data:r,error:n}=await D.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,queryParams:{access_type:"offline",prompt:"consent"}}});if(n){const e={message:n.message,status:n.status,name:n.name,stack:n.stack};alert(`OAuth error details: ${JSON.stringify(e,null,2)}`)}return{data:r,error:n}}catch(e){const t=e instanceof Error?`${e.name}: ${e.message}\nStack: ${e.stack}`:"Unknown error";return alert(`Unexpected error details: ${t}`),{data:null,error:e}}finally{t(!1)}},isLoading:e}})();return(0,x.jsx)(E.A,{style:N.button,onPress:async()=>{try{const{error:r}=await t();if(r)return void z.A.alert("Sign In Error",r instanceof V.lR?r.message:"Failed to sign in");e?.()}catch(r){z.A.alert("Error","An unexpected error occurred during sign in.")}},disabled:r,children:r?(0,x.jsx)(R.A,{color:p.T.text.inverse}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(P.A,{name:"logo-google",size:24,color:p.T.text.inverse,style:N.icon}),(0,x.jsx)(d.A,{style:N.buttonText,children:"Sign in with Google"})]})})},N=h.A.create({button:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:p.T.primary,padding:12,borderRadius:8,minWidth:220},buttonText:{color:p.T.text.inverse,fontSize:16,fontWeight:"600"},icon:{marginRight:8}}),J=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[a,l]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{D.auth.getSession().then((({data:{session:e}})=>{n(e),o(e?.user??null)}));const{data:{subscription:e}}=D.auth.onAuthStateChange(((e,t)=>{n(t),o(t?.user??null)}));return()=>e.unsubscribe()}),[]),r?(0,x.jsxs)(c.A,{style:H.container,children:[(0,x.jsx)(E.A,{style:H.profileButton,onPress:()=>t(!e),children:i?.user_metadata?.avatar_url?(0,x.jsx)(W.A,{source:{uri:i.user_metadata.avatar_url},style:H.avatar}):(0,x.jsx)(P.A,{name:"person-circle-outline",size:24,color:p.T.text.primary})}),e&&(0,x.jsxs)(c.A,{style:H.menu,children:[(0,x.jsxs)(c.A,{style:H.userInfo,children:[(0,x.jsx)(d.A,{style:H.userName,children:i?.user_metadata?.full_name||i?.email}),(0,x.jsx)(d.A,{style:H.userEmail,children:i?.email})]}),(0,x.jsx)(c.A,{style:H.menuDivider}),(0,x.jsxs)(E.A,{style:H.menuItem,onPress:async()=>{try{const{error:e}=await D.auth.signOut();if(e)throw e;n(null),o(null),t(!1)}catch(e){z.A.alert("Error","Failed to sign out")}},children:[(0,x.jsx)(P.A,{name:"log-out-outline",size:20,color:p.T.text.primary}),(0,x.jsx)(d.A,{style:H.menuItemText,children:"Sign Out"})]})]})]}):(0,x.jsxs)(c.A,{style:H.container,children:[(0,x.jsx)(E.A,{style:H.signInButton,onPress:()=>l(!0),children:(0,x.jsx)(d.A,{style:H.signInText,children:"Sign In"})}),(0,x.jsx)(j.A,{visible:a,transparent:!0,animationType:"fade",onRequestClose:()=>l(!1),children:(0,x.jsx)(E.A,{style:H.modalOverlay,activeOpacity:1,onPress:()=>l(!1),children:(0,x.jsxs)(c.A,{style:H.modalContent,onStartShouldSetResponder:()=>!0,children:[(0,x.jsxs)(c.A,{style:H.modalHeader,children:[(0,x.jsx)(d.A,{style:H.modalTitle,children:"Sign In"}),(0,x.jsx)(E.A,{onPress:()=>l(!1),children:(0,x.jsx)(P.A,{name:"close",size:24,color:p.T.text.primary})})]}),(0,x.jsx)(M,{onSuccess:()=>l(!1)})]})})})]})},H=h.A.create({container:{position:"relative"},signInButton:{paddingHorizontal:16,paddingVertical:8,borderRadius:8,backgroundColor:p.T.primary},signInText:{color:p.T.text.inverse,fontWeight:"600"},profileButton:{padding:8},avatar:{width:32,height:32,borderRadius:16},menu:{position:"absolute",top:"100%",right:0,backgroundColor:p.T.background.primary,borderRadius:8,padding:8,minWidth:240,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,borderWidth:1,borderColor:p.T.border},userInfo:{padding:12},userName:{color:p.T.text.primary,fontSize:16,fontWeight:"600",marginBottom:4},userEmail:{color:p.T.text.secondary,fontSize:14},menuDivider:{height:1,backgroundColor:p.T.border,marginVertical:8},menuItem:{flexDirection:"row",alignItems:"center",padding:12,gap:8},menuItemText:{color:p.T.text.primary,fontSize:16},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:p.T.background.primary,borderRadius:12,padding:24,width:"90%",maxWidth:400},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},modalTitle:{fontSize:20,fontWeight:"600",color:p.T.text.primary}}),_=(0,s.lazy)((()=>r.e(167).then(r.bind(r,5167)))),$=(0,s.lazy)((()=>r.e(951).then(r.bind(r,8951)))),q=(0,s.lazy)((()=>r.e(50).then(r.bind(r,3050)))),U=(0,s.lazy)((()=>r.e(553).then(r.bind(r,4553)))),L=(0,g.A)(),G=({searchQuery:e,onSearch:t})=>{const r=(0,o.cq)(),{colors:n}=(0,T.D)(),{foils:i}=(0,O.J)(),[a,l]=(0,s.useState)(!1),[h,g]=(0,s.useState)(B._X),[m,p]=(0,s.useState)({brands:[],series:[],type:[]}),{filterOptions:f}=(0,F.c)(i,m),{width:j}=(0,y.A)(),C=j<B.Dy;(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,v.E7)();if(e){const t=B._X.map((t=>Object.assign({},t,{isVisible:"boolean"===typeof e[t.id]?e[t.id]:t.isVisible})));g(t)}}catch(e){}finally{l(!0)}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,v.Ir)();e&&p({brands:e.brands||[],series:e.series||[],type:e.types||[]})}catch(e){}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{await(0,v.ri)({brands:m.brands,series:m.series,types:m.type})}catch(e){}})()}),[m]);const w=()=>{t(""),r.setParams({searchQuery:""})},S=e=>{t(e),r.setParams({searchQuery:e})},I=(e,t)=>{p((r=>{const n=Object.assign({},r);if("type"===e){const e=r.type;n.type=e.includes(t)?e.filter((e=>e!==t)):[...e,t]}else{const s=r[e];n[e]=s.includes(t)?s.filter((e=>e!==t)):[...s,t]}return n}))},E=e=>{g((t=>t.map((t=>t.id===e?Object.assign({},t,{isVisible:!t.isVisible}):t))))},z=async()=>{p({brands:[],series:[],type:[]})},W=()=>{g(B._X)},P=s.useMemo((()=>(0,B.lD)(h)),[h]),D=s.useMemo((()=>(0,B.y6)(P,j,C)),[P,j,C]);return a?(0,x.jsxs)(L.Navigator,{screenOptions:{headerStyle:{backgroundColor:n.background.primary},headerShadowVisible:!1},children:[(0,x.jsx)(L.Screen,{name:"Browse",options:{headerTitle:"",headerLeft:()=>(0,x.jsx)(c.A,{style:[Q.headerOuterContainer,{backgroundColor:n.background.primary},!C&&{alignItems:"center"}],children:C?(0,x.jsx)(c.A,{style:Q.headerMainContainerMobile,children:(0,x.jsx)(u.A,{onPress:w,style:({pressed:e})=>[Q.logoContainer,e&&Q.logoPressed],children:(0,x.jsx)(d.A,{style:[Q.headerTitle,{color:n.primary}],children:"FoilQuiver"})})}):(0,x.jsx)(c.A,{style:[Q.headerMainContainerWeb,{width:D}],children:(0,x.jsxs)(c.A,{style:Q.headerContentWeb,children:[(0,x.jsx)(u.A,{onPress:w,style:({pressed:e})=>[Q.logoContainer,e&&Q.logoPressed],children:(0,x.jsx)(d.A,{style:[Q.headerTitle,{color:n.primary}],children:"FoilQuiver"})}),(0,x.jsx)(c.A,{style:Q.searchBarContainerWeb,children:(0,x.jsx)(b,{value:e,onChangeText:S,onClear:()=>S("")})}),(0,x.jsx)(k,{filterOptions:f,selectedBrands:m.brands,selectedSeries:m.series,selectedTypes:m.type,onFilterChange:I,onClearFilters:z,columns:h,onColumnVisibilityChange:E,onResetColumns:W,foils:i})]})})}),headerRight:()=>C?(0,x.jsxs)(c.A,{style:Q.headerRightContainerMobile,children:[(0,x.jsx)(c.A,{style:Q.searchBarContainerMobile,children:(0,x.jsx)(b,{value:e,onChangeText:S,onClear:()=>S("")})}),(0,x.jsx)(k,{filterOptions:f,selectedBrands:m.brands,selectedSeries:m.series,selectedTypes:m.type,onFilterChange:I,onClearFilters:z,columns:h,onColumnVisibilityChange:E,onResetColumns:W,foils:i}),(0,x.jsx)(J,{})]}):(0,x.jsx)(c.A,{style:Q.headerRightContainerWeb,children:(0,x.jsx)(J,{})})},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(A.I,{}),children:(0,x.jsx)(_,Object.assign({},e,{filters:m,onFilterChange:I,columns:h}))})}),(0,x.jsx)(L.Screen,{name:"Terms",options:{title:"Terms of Service",headerStyle:{backgroundColor:n.background.primary}},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(A.I,{}),children:(0,x.jsx)(q,Object.assign({},e))})}),(0,x.jsx)(L.Screen,{name:"Privacy",options:{title:"Privacy Policy",headerStyle:{backgroundColor:n.background.primary}},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(A.I,{}),children:(0,x.jsx)($,Object.assign({},e))})}),(0,x.jsx)(L.Screen,{name:"Contact",options:{title:"Contact Us",headerStyle:{backgroundColor:n.background.primary}},children:e=>(0,x.jsx)(s.Suspense,{fallback:(0,x.jsx)(A.I,{}),children:(0,x.jsx)(U,Object.assign({},e))})})]}):(0,x.jsx)(A.I,{})},Q=h.A.create({headerOuterContainer:{flex:1,paddingHorizontal:B.Op},headerMainContainerMobile:{flexDirection:"row",alignItems:"center",height:56,width:"100%"},headerRightContainerMobile:{flexDirection:"row",alignItems:"center",gap:8,paddingRight:12},searchBarContainerMobile:{width:160,height:36},headerMainContainerWeb:{height:72,width:"100%"},headerContentWeb:{flexDirection:"row",alignItems:"center",gap:24,height:"100%",width:"100%"},searchBarContainerWeb:{flex:1,height:40},logoContainer:{height:"100%",justifyContent:"center",minWidth:120},logoPressed:{opacity:.7},headerTitle:{fontSize:24,fontWeight:"bold"},headerRightContainerWeb:{flexDirection:"row",alignItems:"center",gap:16,paddingRight:B.Op}});var X=r(3029),Z=r(2901),Y=r(388),K=r(3954),ee=r(5361);function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}var re=function(e){function t(){var e,r,n,s;(0,X.A)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=this,n=t,s=[].concat(o),n=(0,K.A)(n),(e=(0,Y.A)(r,te()?Reflect.construct(n,s||[],(0,K.A)(r).constructor):n.apply(r,s))).state={hasError:!1,error:null},e}return(0,ee.A)(t,e),(0,Z.A)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e;return this.state.hasError?(0,x.jsxs)(c.A,{style:ne.container,children:[(0,x.jsx)(d.A,{style:ne.text,children:"Something went wrong."}),(0,x.jsx)(d.A,{style:ne.errorText,children:null==(e=this.state.error)?void 0:e.message})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}])}(s.Component),ne=h.A.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:20},text:{fontSize:16,marginBottom:10},errorText:{color:"red",fontSize:14}});(0,n.A)((function(){const e=(0,o.bE)(),[t,r]=(0,s.useState)("");return(0,x.jsx)(T.N,{children:(0,x.jsx)(a.vd,{children:(0,x.jsx)(re,{children:(0,x.jsx)(l.Oy,{children:(0,x.jsx)(i.A,{ref:e,linking:{prefixes:["https://foilquiver.com","foilquiver://"],config:{screens:{Browse:"browse",Terms:"terms",Privacy:"privacy",Contact:"contact",Comparison:"comparison"}}},fallback:(0,x.jsx)(A.I,{}),children:(0,x.jsx)(G,{searchQuery:t,onSearch:e=>{r(e)}})})})})})})}))},7821:(e,t,r)=>{r.d(t,{I:()=>a}),r(6665);var n=r(530),s=r(3929),i=r(3668),o=r(397);function a(){return(0,o.jsx)(s.A,{style:l.container,children:(0,o.jsx)(n.A,{size:"large",color:"#0000ff"})})}var l=i.A.create({container:{flex:1,justifyContent:"center",alignItems:"center"}})},2763:(e,t,r)=>{r.d(t,{Dy:()=>s,Op:()=>n,_X:()=>o,lD:()=>a,lU:()=>i,y6:()=>l});const n=16,s=768,i={brand:100,series:120,model:150,area:80,wingspan:80,aspectRatio:80,type:80,price:105,link:80},o=[{id:"brand",label:"Brand",isVisible:!0},{id:"series",label:"Series",isVisible:!1},{id:"model",label:"Model",isVisible:!0},{id:"area",label:"Area",isVisible:!0},{id:"wingspan",label:"Span",isVisible:!0},{id:"aspectRatio",label:"AR",isVisible:!0},{id:"type",label:"Type",isVisible:!0},{id:"price",label:"Price",isVisible:!0},{id:"link",label:"Link",isVisible:!0}],a=e=>e.reduce(((e,t)=>t.isVisible?e+(i[t.id]||100):e),0),l=(e,t,r)=>r?t:Math.min(e,t-48)},2419:(e,t,r)=>{r.d(t,{c:()=>s});var n=r(6665);function s(e,t){const r=(0,n.useMemo)((()=>{const r=Array.from(new Set(e.map((e=>e.brand)))).sort(),n=function(e){return e.reduce(((e,t)=>(e[t.brand]||(e[t.brand]=[]),e[t.brand].push(t),e)),{})}(e);let s=[];if(0===t.brands.length)s=Array.from(new Set(e.map((e=>e.series)))).sort();else{const e=t.brands.flatMap((e=>n[e]||[]));s=Array.from(new Set(e.map((e=>e.series)))).sort()}return{brands:r,series:s,types:["front","tail"]}}),[e,t.brands]);return{filteredFoils:(0,n.useMemo)((()=>e.filter((e=>{const r=0===t.brands.length||t.brands.includes(e.brand),n=0===t.series.length||t.series.includes(e.series),s=0===t.type.length||t.type.includes(e.type);return r&&n&&s}))),[e,t.brands,t.series,t.type]),filterOptions:r}}},209:(e,t,r)=>{r.d(t,{J:()=>u});var n=r(467),s=r(296),i=r(6665),o=r(5458),a=r(3029),l=r(2901),c=r(5991),d=r(1087),h=(0,l.A)((function e(){(0,a.A)(this,e)}),null,[{key:"getBaseUrl",value:function(){return"https://foilquiver.com"}},{key:"getAllProducts",value:function(){var e=(0,n.A)((function*(){try{if(this.isWeb){var e=this.getBaseUrl();try{var t=yield fetch(`${e}${this.DATA_PATH}`);if(t.ok)return yield t.json()}catch(l){}try{var r=[];for(var n of["armstrong","lift-foils","axis-foils","code-foils","kt-foils","uni-foil"])try{var s=yield fetch(`${e}/${this.CACHE_DIR}/${n}.json`);if(s.ok){var i=yield s.json();r.push.apply(r,(0,o.A)(i))}}catch(l){}if(r.length>0)return r}catch(l){}}else{var a=yield d.A.getItem("foils");if(a)return JSON.parse(a)}}catch(l){}return[]}));return function(){return e.apply(this,arguments)}}()}]);function u(){var e=(0,i.useState)([]),t=(0,s.A)(e,2),r=t[0],o=t[1],a=(0,i.useState)(!0),l=(0,s.A)(a,2),c=l[0],d=l[1],u=(0,i.useState)(null),y=(0,s.A)(u,2),g=y[0],m=y[1],p=function(){var e=(0,n.A)((function*(){try{d(!0),m(null);var e=yield h.getAllProducts();o(e)}catch(t){m(t instanceof Error?t.message:"Failed to load foils")}finally{d(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){p()}),[]),{foils:r,loading:c,error:g,refreshFoils:function(){p()}}}h.isWeb="web"===c.A.OS,h.DATA_PATH="/data/foils.json",h.CACHE_DIR=".cache"},4667:(e,t,r)=>{r.d(t,{D:()=>h,N:()=>d});var n=r(6665),s=r(1243),i=r(1087),o=r(5713),a=r(397);const l=(0,n.createContext)(void 0),c="@foilquiver/theme",d=({children:e})=>{const t=(0,s.A)(),[r,d]=(0,n.useState)("dark"===t);(0,n.useEffect)((()=>{(async()=>{try{const e=await i.A.getItem(c);null!==e&&d("dark"===e)}catch(e){}})()}),[]);const h=(0,o.j)(r?"dark":"light");return(0,a.jsx)(l.Provider,{value:{isDark:r,colors:h,toggleTheme:async()=>{try{const e=!r;d(e),await i.A.setItem(c,e?"dark":"light")}catch(e){}}},children:e})},h=()=>{const e=(0,n.useContext)(l);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}},5713:(e,t,r)=>{r.d(t,{T:()=>o,j:()=>i});const n={background:{primary:"#FFFFFF",secondary:"#F5F7FA",tertiary:"#E5E5E5"},text:{primary:"#1A1A1A",secondary:"#4A4A4A",tertiary:"#717171",inverse:"#FFFFFF"},border:"rgba(0, 0, 0, .1)",primary:"#BF3475",error:"#FF3B30",success:"#34C759",warning:"#FF9500"},s={background:{primary:"#1A1A1A",secondary:"#2A2A2A",tertiary:"#3A3A3A"},text:{primary:"#FFFFFF",secondary:"#CCCCCC",tertiary:"#999999",inverse:"#1A1A1A"},border:"#404040",primary:"#FC8890",error:"#FF453A",success:"#32D74B",warning:"#FF9F0A"},i=e=>"dark"===e?s:n,o=n},5535:(e,t,r)=>{r.d(t,{E7:()=>u,Ir:()=>d,QZ:()=>g,pF:()=>h,ri:()=>c,pC:()=>y});var n=r(1087);class s{isDevelopment=!1;constructor(){}static getInstance(){return s.instance||(s.instance=new s),s.instance}log(e,t,...r){this.isDevelopment&&((new Date).toISOString(),e.toUpperCase())}debug(e,...t){this.log("debug",e,...t)}info(e,...t){this.log("info",e,...t)}warn(e,...t){this.log("warn",e,...t)}error(e,...t){this.log("error",e,...t)}}const i=s.getInstance(),o="@foilquiver/filters",a="@foilquiver/columns",l="@foilquiver/sort";new class{async set(e,t){try{const r=JSON.stringify(t);await n.A.setItem(e,r)}catch(r){throw i.error("Error setting storage item:",r),r}}async get(e){try{const t=await n.A.getItem(e);return null!=t?JSON.parse(t):null}catch(t){throw i.error("Error getting storage item:",t),t}}async remove(e){try{await n.A.removeItem(e)}catch(t){throw i.error("Error removing storage item:",t),t}}async clear(){try{await n.A.clear()}catch(e){throw i.error("Error clearing storage:",e),e}}async getAllKeys(){try{return await n.A.getAllKeys()}catch(e){throw i.error("Error getting all storage keys:",e),e}}};const c=async e=>{try{await n.A.setItem(o,JSON.stringify(e))}catch(t){}},d=async()=>{try{const e=await n.A.getItem(o);return e?JSON.parse(e):null}catch(e){return null}},h=async e=>{try{await n.A.setItem(a,JSON.stringify(e))}catch(t){}},u=async()=>{try{const e=await n.A.getItem(a);return e?JSON.parse(e):null}catch(e){return null}},y=async e=>{try{await n.A.setItem(l,JSON.stringify(e))}catch(t){}},g=async()=>{try{const e=await n.A.getItem(l);return e?JSON.parse(e):null}catch(e){return null}}}},e=>{e.O(0,[804],(()=>e(e.s=9834))),e.O()}]);
//# sourceMappingURL=main.703ea877.js.map